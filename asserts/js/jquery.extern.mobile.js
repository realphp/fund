Array.prototype.unique=function(){for(var a={},b=this.length,c=0;c<b;c++)"undefined"==typeof a[this[c]]&&(a[this[c]]=1);this.length=0;for(c in a)this[this.length]=c;return this};
$.extend({includeCSSFiles:[],includeCSS:function(a,b){var c="string"==typeof a?[a]:a;b=b?b:TPX.PATH_ASSERTS;for(var d=0;d<c.length;d++){for(var e=c[d].replace(/^\s|\s$/g,""),g=document.createElement("link"),e=b+e+TPX.SUFFIX_CSS,f=!0,h=0;h<$.includeCSSFiles.length;h++)e==$.includeCSSFiles[h]&&(f=!1);f&&(0<$("link[href='"+e+"']").length||0<$("link[href='"+e+"']").length)&&(f=!1);f&&($.includeCSSFiles.push(e),g.setAttribute("rel","stylesheet"),g.setAttribute("type","text/css"),g.setAttribute("href",
e),document.getElementsByTagName("head")[0].appendChild(g))}},includeJSFiles:[],includeJS:function(a,b){var c="string"==typeof a?[a]:a;b=b?b:TPX.PATH_ASSERTS;for(var d=0;d<c.length;d++){for(var e=c[d].replace(/^\s|\s$/g,""),e=b+e+TPX.SUFFIX_JS,g="src='"+e+"'",f=!0,h=0;h<$.includeJSFiles.length;h++)g==$.includeJSFiles[h]&&(f=!1);f&&(0<$("script[src='"+e+"']").length||0<$("script[src='"+e+"']").length)&&(f=!1);f&&($.includeJSFiles.push(g),$("body").append("<script language='javascript' type='text/javascript' "+
g+">\x3c/script>"))}},getRootWindow:function(){for(var a=window;a.self!=a.parent;)a=a.parent;return a},urlencode:function(a){var b="";a+="";for(var c=0;c<a.length;c++)var d=a.charAt(c),e=a.charCodeAt(c).toString(16),b=" "==d?b+"+":-1!="!\"#$%&'()*+,/:;<=>?[]^`{|}~%".indexOf(d)?b+("%"+e.toString(16)):b+d;return b},urldecode:function(a){for(var b="",c=0;c<a.length;c++){var d=a.charAt(c);"+"==d?b+=" ":"%"==d?(d=a.substring(c+1,c+3),127<parseInt("0x"+d)?(b+=decodeURI("%"+d.toString()+a.substring(c+3,
c+9).toString()),c+=8):(b+=ShengUtils.AsciiToString(parseInt("0x"+d)),c+=2)):b+=d}return b},getUrlAnchor:function(){var a=window.location.href,b=a.indexOf("#");return 0<b?a=a.substring(b+1):""},redirect:function(a){window.location.href=a},defaultFormCallback:function(a,b){a?"number"==typeof a.status?0==a.status?(alert(a.info),a.url&&("[reload]"==a.url?window.location.reload():$.redirect(a.url)),$("#auto-click-on-error").length&&$("#auto-click-on-error").click()):1==a.status&&(a.info&&alert(a.info),
a.url&&("[reload]"==a.url?window.location.reload():$.redirect(a.url))):b?b(a):alert("ERROR: Unrecognized data! \n==\n"+a+"\n=="):alert("ERROR: Response Data Empty!")}});
$(function(){0<$("form.tpx-ajaxsubmit").length&&$("form.tpx-ajaxsubmit").submit(function(){var a=this,b=$(this).serializeArray(),c=null,c=$(this).attr("callback")?eval($(this).attr("callback")):$.defaultFormCallback;$(a).find("[type=submit]").prop("disabled",!0);if(0==$("#submit-loading-box").length){var d=['<div id="submit-loading-box" class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog modal-sm" style="width:200px;margin:0 auto;margin-top:',$(window).height()/2-
100,'px;"><div class="modal-content text-center" style="padding:10px 0;">','<img src="'+TPX.PATH_ASSERTS+'/image/loading.gif" /><br />\u6b63\u5728\u52a0\u8f7d...',"</div></div></div>"].join("");$("body").append(d)}$("#submit-loading-box").modal("show");var e=setTimeout(function(){$("#submit-loading-box").modal("hide")},3E4),d=function(b){$("#submit-loading-box").modal("hide");c(b);clearTimeout(e);$(a).find("[type=submit]").prop("disabled",!1)};"post"==$(this).attr("method")?$.post($(this).attr("action"),
b,d):$.get($(this).attr("action"),b,d);return!1})});