!function(m){"function"==typeof define&&define.amd?define(["jquery","bootstrap"],m):m(jQuery)}(function(m){if("undefined"==typeof m)throw Error("Fuel UX's JavaScript requires jQuery");if("undefined"==typeof m.fn.dropdown||"undefined"==typeof m.fn.collapse)throw Error("Fuel UX's JavaScript requires Bootstrap");!function(b){var k=b.fn.checkbox,g=function(a,c){this.options=b.extend({},b.fn.checkbox.defaults,c);this.$element=b(a).is('input[type="checkbox"]')?b(a):b(a).find('input[type="checkbox"]:first');
this.$label=this.$element.parent();this.$parent=this.$label.parent(".checkbox");this.$toggleContainer=this.$element.attr("data-toggle");this.state={disabled:!1,checked:!1};0===this.$parent.length&&(this.$parent=null);this.$toggleContainer=Boolean(this.$toggleContainer)?b(this.$toggleContainer):null;this.$element.on("change.fu.checkbox",b.proxy(this.itemchecked,this));this.$label.unbind("click",b.proxy(this.toggle,this));this.$label.on("click",b.proxy(this.toggle,this));this.setState()};g.prototype=
{constructor:g,setState:function(a){a=a||this.$element;this.state.disabled=Boolean(a.prop("disabled"));this.state.checked=Boolean(a.is(":checked"));this._resetClasses();this._toggleCheckedState();this._toggleDisabledState();this.toggleContainer()},enable:function(){this.state.disabled=!1;this.$element.removeAttr("disabled");this.$element.prop("disabled",!1);this._resetClasses();this.$element.trigger("enabled.fu.checkbox")},disable:function(){this.state.disabled=!0;this.$element.prop("disabled",!0);
this.$element.attr("disabled","disabled");this._setDisabledClass();this.$element.trigger("disabled.fu.checkbox")},check:function(){this.state.checked=!0;this.$element.prop("checked",!0);this.$element.attr("checked","checked");this._setCheckedClass();this.$element.trigger("checked.fu.checkbox")},uncheck:function(){this.state.checked=!1;this.$element.prop("checked",!1);this.$element.removeAttr("checked");this._resetClasses();this.$element.trigger("unchecked.fu.checkbox")},isChecked:function(){return this.state.checked},
toggle:function(a){this.$element.prop("disabled")||a&&a.target!==a.originalEvent.target||(this.state.checked=!this.state.checked,this._toggleCheckedState(),Boolean(a)&&(a.preventDefault(),this.$element.trigger("change",a)))},toggleContainer:function(){Boolean(this.$toggleContainer)&&(this.state.checked?(this.$toggleContainer.removeClass("hide hidden"),this.$toggleContainer.attr("aria-hidden","false")):(this.$toggleContainer.addClass("hidden"),this.$toggleContainer.attr("aria-hidden","true")))},itemchecked:function(a){this.setState(b(a.target))},
destroy:function(){return this.$parent.remove(),this.$parent[0].outerHTML},_resetClasses:function(){var a=[];this.state.checked||a.push("checked");this.state.disabled||a.push("disabled");a=a.join(" ");this.$label.removeClass(a);this.$parent&&this.$parent.removeClass(a)},_toggleCheckedState:function(){this.state.checked?this.check():this.uncheck()},_toggleDisabledState:function(){this.state.disabled?this.disable():this.enable()},_setCheckedClass:function(){this.$label.addClass("checked");this.$parent&&
this.$parent.addClass("checked")},_setDisabledClass:function(){this.$label.addClass("disabled");this.$parent&&this.$parent.addClass("disabled")}};b.fn.checkbox=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var h=b(this),f=h.data("fu.checkbox"),e="object"==typeof a&&a;f||h.data("fu.checkbox",f=new g(this,e));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.checkbox.defaults={};b.fn.checkbox.Constructor=g;b.fn.checkbox.noConflict=function(){return b.fn.checkbox=
k,this};b(document).on("mouseover.fu.checkbox.data-api","[data-initialize=checkbox]",function(a){a=b(a.target).closest(".checkbox").find("[type=checkbox]");a.data("fu.checkbox")||a.checkbox(a.data())});b(function(){b("[data-initialize=checkbox] [type=checkbox]").each(function(){var a=b(this);a.data("fu.checkbox")||a.checkbox(a.data())})})}(m);(function(b){var k=b.fn.combobox,g=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.combobox.defaults,c);this.$dropMenu=this.$element.find(".dropdown-menu");
this.$input=this.$element.find("input");this.$button=this.$element.find(".btn");this.$element.on("click.fu.combobox","a",b.proxy(this.itemclicked,this));this.$element.on("change.fu.combobox","input",b.proxy(this.inputchanged,this));this.$element.on("shown.bs.dropdown",b.proxy(this.menuShown,this));this.setDefaultSelection()};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){b(this).attr("value",b(this).val())}),this.$element[0].outerHTML},
doSelect:function(a){"undefined"!=typeof a[0]?(this.$selectedItem=a,this.$input.val(this.$selectedItem.text().trim())):this.$selectedItem=null},menuShown:function(){this.options.autoResizeMenu&&this.resizeMenu()},resizeMenu:function(){var a=this.$element.outerWidth();this.$dropMenu.outerWidth(a)},selectedItem:function(){var a={};this.$selectedItem?(a=this.$selectedItem.text().trim(),a=b.extend({text:a},this.$selectedItem.data())):a={text:this.$input.val()};return a},selectByText:function(a){var c=
b([]);this.$element.find("li").each(function(){return(this.textContent||this.innerText||b(this).text()||"").toLowerCase()===(a||"").toLowerCase()?(c=b(this),!1):void 0});this.doSelect(c)},selectByValue:function(a){this.selectBySelector('li[data-value="'+a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+a+")")},selectBySelector:function(a){a=this.$element.find(a);this.doSelect(a)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]:first");0<a.length&&(this.selectBySelector("li[data-selected=true]:first"),
a.removeData("selected"),a.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$input.attr("disabled",!0);this.$button.addClass("disabled")},itemclicked:function(a){this.$selectedItem=b(a.target).parent();this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var c=this.selectedItem();this.$element.trigger("changed.fu.combobox",
c);a.preventDefault();this.$element.find(".dropdown-toggle").focus()},inputchanged:function(a,c){if(!c||!c.synthetic){var d=b(a.target).val();this.selectByText(d);var e=this.selectedItem();0===e.text.length&&(e={text:d});this.$element.trigger("changed.fu.combobox",e)}}};b.fn.combobox=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var h=b(this),f=h.data("fu.combobox"),e="object"==typeof a&&a;f||h.data("fu.combobox",f=new g(this,e));"string"==typeof a&&(c=f[a].apply(f,
d))});return void 0===c?e:c};b.fn.combobox.defaults={autoResizeMenu:!0};b.fn.combobox.Constructor=g;b.fn.combobox.noConflict=function(){return b.fn.combobox=k,this};b(document).on("mousedown.fu.combobox.data-api","[data-initialize=combobox]",function(a){a=b(a.target).closest(".combobox");a.data("fu.combobox")||a.combobox(a.data())});b(function(){b("[data-initialize=combobox]").each(function(){var a=b(this);a.data("fu.combobox")||a.combobox(a.data())})})})(m);(function(b){var k=[],g=!1,a=b.fn.datepicker,
c=!1,d=function(){var a,b;c=!0;a=0;for(b=k.length;b>a;a++)k[a].init.call(k[a].scope);k=[]};"function"==typeof define&&define.amd?require(["moment"],function(a){g=a;d()},function(a){"moment"===(a.requireModules&&a.requireModules[0])&&d()}):d();var e=function(a,d){this.$element=b(a);this.options=b.extend(!0,{},b.fn.datepicker.defaults,d);this.$calendar=this.$element.find(".datepicker-calendar");this.$days=this.$calendar.find(".datepicker-calendar-days");this.$header=this.$calendar.find(".datepicker-calendar-header");
this.$headerTitle=this.$header.find(".title");this.$input=this.$element.find("input");this.$wheels=this.$element.find(".datepicker-wheels");this.$wheelsMonth=this.$element.find(".datepicker-wheels-month");this.$wheelsYear=this.$element.find(".datepicker-wheels-year");this.artificialScrolling=!1;this.formatDate=this.options.formatDate||this.formatDate;this.inputValue=null;this.moment=!1;this.momentFormat=null;this.parseDate=this.options.parseDate||this.parseDate;this.preventBlurHide=!1;this.restricted=
this.options.restricted||[];this.restrictedParsed=[];this.restrictedText=this.options.restrictedText;this.sameYearOnly=this.options.sameYearOnly;this.yearRestriction=this.selectedDate=null;this.$calendar.find(".datepicker-today").on("click.fu.datepicker",b.proxy(this.todayClicked,this));this.$days.on("click.fu.datepicker","tr td button",b.proxy(this.dateClicked,this));this.$element.find(".dropdown-menu").on("mousedown.fu.datepicker",b.proxy(this.dropdownMousedown,this));this.$header.find(".next").on("click.fu.datepicker",
b.proxy(this.next,this));this.$header.find(".prev").on("click.fu.datepicker",b.proxy(this.prev,this));this.$headerTitle.on("click.fu.datepicker",b.proxy(this.titleClicked,this));this.$input.on("blur.fu.datepicker",b.proxy(this.inputBlurred,this));this.$input.on("focus.fu.datepicker",b.proxy(this.inputFocused,this));this.$wheels.find(".datepicker-wheels-back").on("click.fu.datepicker",b.proxy(this.backClicked,this));this.$wheels.find(".datepicker-wheels-select").on("click.fu.datepicker",b.proxy(this.selectClicked,
this));this.$wheelsMonth.on("click.fu.datepicker","ul button",b.proxy(this.monthClicked,this));this.$wheelsYear.on("click.fu.datepicker","ul button",b.proxy(this.yearClicked,this));this.$wheelsYear.find("ul").on("scroll.fu.datepicker",b.proxy(this.onYearScroll,this));var e=function(){this.checkForMomentJS()&&(g=g||window.moment,this.moment=!0,this.momentFormat=this.options.momentConfig.format,this.setCulture(this.options.momentConfig.culture),g.locale=g.locale||g.lang);this.setRestrictedDates(this.restricted);
this.setDate(this.options.date)||(this.$input.val(""),this.inputValue=this.$input.val());this.sameYearOnly&&(this.yearRestriction=this.selectedDate?this.selectedDate.getFullYear():(new Date).getFullYear())};c?e.call(this):k.push({init:e,scope:this})};e.prototype={constructor:e,backClicked:function(){this.changeView("calendar")},changeView:function(a,b){"wheels"===a?(this.$calendar.hide().attr("aria-hidden","true"),this.$wheels.show().removeAttr("aria-hidden",""),b&&this.renderWheel(b)):(this.$wheels.hide().attr("aria-hidden",
"true"),this.$calendar.show().removeAttr("aria-hidden",""),b&&this.renderMonth(b))},checkForMomentJS:function(){return(b.isFunction(window.moment)||"undefined"!=typeof g&&b.isFunction(g))&&b.isPlainObject(this.options.momentConfig)&&this.options.momentConfig.culture&&this.options.momentConfig.format?!0:!1},dateClicked:function(a){var c;a=b(a.currentTarget).parents("td:first");a.hasClass("restricted")||(this.$days.find("td.selected").removeClass("selected"),a.addClass("selected"),c=new Date(a.attr("data-year"),
a.attr("data-month"),a.attr("data-date")),this.selectedDate=c,this.$input.val(this.formatDate(c)),this.inputValue=this.$input.val(),this.$input.focus(),this.$element.trigger("dateClicked.fu.datepicker",c))},destroy:function(){return this.$element.remove(),this.$days.find("tbody").empty(),this.$wheelsYear.find("ul").empty(),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled");this.$element.find("input, button").attr("disabled","disabled");this.$element.find(".input-group-btn").removeClass("open")},
dropdownMousedown:function(){var a=this;this.preventBlurHide=!0;setTimeout(function(){a.preventBlurHide=!1},0)},enable:function(){this.$element.removeClass("disabled");this.$element.find("input, button").removeAttr("disabled")},formatDate:function(a){var b=function(a){a="0"+a;return a.substr(a.length-2)};return this.moment?g(a).format(this.momentFormat):b(a.getMonth()+1)+"/"+b(a.getDate())+"/"+a.getFullYear()},getCulture:function(){if(this.moment)return g.locale();throw"moment.js is not available so you cannot use this function";
},getDate:function(){return this.selectedDate?this.selectedDate:new Date(0/0)},getFormat:function(){if(this.moment)return this.momentFormat;throw"moment.js is not available so you cannot use this function";},getFormattedDate:function(){return this.selectedDate?this.formatDate(this.selectedDate):"Invalid Date"},getRestrictedDates:function(){return this.restricted},inputBlurred:function(){var a,b=this.$input.val();b!==this.inputValue&&(a=this.setDate(b),null===a?this.$element.trigger("inputParsingFailed.fu.datepicker",
b):!1===a?this.$element.trigger("inputRestrictedDate.fu.datepicker",a):this.$element.trigger("changed.fu.datepicker",a));this.preventBlurHide||this.$element.find(".input-group-btn").removeClass("open")},inputFocused:function(){this.$element.find(".input-group-btn").addClass("open")},isInvalidDate:function(a){a=a.toString();return"Invalid Date"===a||"NaN"===a?!0:!1},isRestricted:function(a,b,c){var d,e,g,r,q=this.restrictedParsed;if(this.sameYearOnly&&null!==this.yearRestriction&&c!==this.yearRestriction)return!0;
d=0;for(g=q.length;g>d;d++)if(e=q[d].from,r=q[d].to,(c>e.year||c===e.year&&b>e.month||c===e.year&&b===e.month&&a>=e.date)&&(c<r.year||c===r.year&&b<r.month||c===r.year&&b===r.month&&a<=r.date))return!0;return!1},monthClicked:function(a){this.$wheelsMonth.find(".selected").removeClass("selected");b(a.currentTarget).parent().addClass("selected")},next:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");if(a++,11<a){if(this.sameYearOnly)return;a=0;b++}this.renderMonth(new Date(b,
a,1))},onYearScroll:function(a){if(!this.artificialScrolling){var c,d;a=b(a.currentTarget);c="border-box"===a.css("box-sizing")?a.outerHeight():a.height();var e=a.get(0).scrollHeight,g=a.scrollTop();c=c/(e-g)*100;if(5>g/e*100){d=parseInt(a.find("li:first").attr("data-year"),10);for(c=d-1;c>d-11;c--)a.prepend('<li data-year="'+c+'"><button type="button">'+c+"</button></li>");this.artificialScrolling=!0;a.scrollTop(a.get(0).scrollHeight-e+g);this.artificialScrolling=!1}else if(90<c)for(d=parseInt(a.find("li:last").attr("data-year"),
10),c=d+1;d+11>c;c++)a.append('<li data-year="'+c+'"><button type="button">'+c+"</button></li>")}},parseDate:function(a){var b,c,d,e,l,r,q,p=this,k=new Date(0/0);if(a){if(this.moment)return e=function(a){a=g(a,p.momentFormat);return!0===a.isValid()?a.toDate():k},d=function(a){a=g(new Date(a));return!0===a.isValid()?a.toDate():k},l=function(a,b,c){a=b(a);return p.isInvalidDate(a)?(a=c(a),p.isInvalidDate(a)?k:a):a},"string"==typeof a?l(a,e,d):l(a,d,e);if("string"==typeof a){if((b=new Date(Date.parse(a)),
!this.isInvalidDate(b))||(a=a.split("T")[0],c=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/,q=c.exec(a),q&&(r=parseInt(q[2],10),b=new Date(q[1],r-1,q[3]),r===b.getMonth()+1)))return b}else if(b=new Date(a),!this.isInvalidDate(b))return b}return new Date(0/0)},prev:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");if(a--,0>a){if(this.sameYearOnly)return;a=11;b--}this.renderMonth(new Date(b,a,1))},renderMonth:function(a){a=a||new Date;var c,d,e,g,l,r,q,p,k;d=(new Date(a.getFullYear(),
a.getMonth(),1)).getDay();var A=(new Date(a.getFullYear(),a.getMonth()+1,0)).getDate(),m=(new Date(a.getFullYear(),a.getMonth(),0)).getDate();e=this.$headerTitle.find(".month");var y=a.getMonth(),w=new Date,B=w.getDate(),z=w.getMonth(),w=w.getFullYear(),v=this.selectedDate,C=this.$days.find("tbody");a=a.getFullYear();v&&(v={date:v.getDate(),month:v.getMonth(),year:v.getFullYear()});e.find(".current").removeClass("current");e.find('span[data-month="'+y+'"]').addClass("current");this.$headerTitle.find(".year").text(a);
this.$headerTitle.attr({"data-month":y,"data-year":a});C.empty();0!==d?(c=m-d+1,q=-1):(c=1,q=0);r=35-d>=A?5:6;for(g=0;r>g;g++){k=b("<tr></tr>");for(l=0;7>l;l++)p=b("<td></td>"),-1===q?p.addClass("last-month"):1===q&&p.addClass("next-month"),d=y+q,e=a,0>d?(d=11,e--):11<d&&(d=0,e++),p.attr({"data-date":c,"data-month":d,"data-year":e}),e===w&&d===z&&c===B?p.addClass("current-day"):(w>e||e===w&&z>d||e===w&&d===z&&B>c)&&(p.addClass("past"),this.options.allowPastDates||p.addClass("restricted").attr("title",
this.restrictedText)),this.isRestricted(c,d,e)&&p.addClass("restricted").attr("title",this.restrictedText),v&&e===v.year&&d===v.month&&c===v.date&&p.addClass("selected"),p.html(p.hasClass("restricted")?'<span><b class="datepicker-date">'+c+"</b></span>":'<span><button type="button" class="datepicker-date">'+c+"</button></span>"),c++,-1===q&&c>m?(c=1,q=0):0===q&&c>A&&(c=1,q=1),k.append(p);C.append(k)}},renderWheel:function(a){var b,c;c=a.getMonth();b=this.$wheelsMonth.find("ul");var d=a.getFullYear();
a=this.$wheelsYear.find("ul");this.sameYearOnly?(this.$wheelsMonth.addClass("full"),this.$wheelsYear.addClass("hide")):(this.$wheelsMonth.removeClass("full"),this.$wheelsYear.removeClass("hide"));b.find(".selected").removeClass("selected");c=b.find('li[data-month="'+c+'"]');c.addClass("selected");b.scrollTop(b.scrollTop()+(c.position().top-b.outerHeight()/2-c.outerHeight(!0)/2));a.empty();for(b=d-10;d+11>b;b++)a.append('<li data-year="'+b+'"><button type="button">'+b+"</button></li>");b=a.find('li[data-year="'+
d+'"]');b.addClass("selected");this.artificialScrolling=!0;a.scrollTop(a.scrollTop()+(b.position().top-a.outerHeight()/2-b.outerHeight(!0)/2));this.artificialScrolling=!1;c.find("button").focus()},selectClicked:function(){var a=this.$wheelsMonth.find(".selected").attr("data-month"),b=this.$wheelsYear.find(".selected").attr("data-year");this.changeView("calendar",new Date(b,a,1))},setCulture:function(a){if(!a)return!1;if(!this.moment)throw"moment.js is not available so you cannot use this function";
g.locale(a)},setDate:function(a){a=this.parseDate(a);return this.isInvalidDate(a)?(this.selectedDate=null,this.renderMonth()):this.isRestricted(a.getDate(),a.getMonth(),a.getFullYear())?(this.selectedDate=!1,this.renderMonth()):(this.selectedDate=a,this.renderMonth(a),this.$input.val(this.formatDate(a))),this.inputValue=this.$input.val(),this.selectedDate},setFormat:function(a){if(!a)return!1;if(!this.moment)throw"moment.js is not available so you cannot use this function";this.momentFormat=a},setRestrictedDates:function(a){var b,
c,d=[],e=this,g=function(a){return a===-1/0?{date:-1/0,month:-1/0,year:-1/0}:1/0===a?{date:1/0,month:1/0,year:1/0}:(a=e.parseDate(a),{date:a.getDate(),month:a.getMonth(),year:a.getFullYear()})};this.restricted=a;b=0;for(c=a.length;c>b;b++)d.push({from:g(a[b].from),to:g(a[b].to)});this.restrictedParsed=d},titleClicked:function(){this.changeView("wheels",new Date(this.$headerTitle.attr("data-year"),this.$headerTitle.attr("data-month"),1))},todayClicked:function(){var a=new Date;a.getMonth()+""===this.$headerTitle.attr("data-month")&&
a.getFullYear()+""===this.$headerTitle.attr("data-year")||this.renderMonth(a)},yearClicked:function(a){this.$wheelsYear.find(".selected").removeClass("selected");b(a.currentTarget).parent().addClass("selected")}};b.fn.datepicker=function(a){var c,d=Array.prototype.slice.call(arguments,1),g=this.each(function(){var g=b(this),t=g.data("fu.datepicker"),r="object"==typeof a&&a;t||g.data("fu.datepicker",t=new e(this,r));"string"==typeof a&&(c=t[a].apply(t,d))});return void 0===c?g:c};b.fn.datepicker.defaults=
{allowPastDates:!1,date:new Date,formatDate:null,momentConfig:{culture:"en",format:"L"},parseDate:null,restricted:[],restrictedText:"Restricted",sameYearOnly:!1};b.fn.datepicker.Constructor=e;b.fn.datepicker.noConflict=function(){return b.fn.datepicker=a,this};b(document).on("mousedown.fu.datepicker.data-api","[data-initialize=datepicker]",function(a){a=b(a.target).closest(".datepicker");a.data("datepicker")||a.datepicker(a.data())});b(document).on("click.fu.datepicker.data-api",".datepicker .dropdown-menu",
function(a){var c=b(a.target);c.is(".datepicker-date")&&!c.closest(".restricted").length||a.stopPropagation()});b(document).on("click.fu.datepicker.data-api",".datepicker input",function(a){a.stopPropagation()});b(function(){b("[data-initialize=datepicker]").each(function(){var a=b(this);a.data("datepicker")||a.datepicker(a.data())})})})(m);(function(b){function k(a){b(a).css({visibility:"hidden"});var c=g(a),d,e,h,f,n,t,u;(d=a.parent().outerHeight(),e=a.parent().offset().top,h=a.outerHeight(),f=
c.overflowElement.outerHeight(),n=c.isWindow?c.overflowElement.scrollTop():c.overflowElement.offset().top,t=e-n,u=f-d-(e-n),h<u?1:h<t?0:h>=t&&h>=u?t>=u?0:1:!0)?a.parent().removeClass("dropup"):a.parent().addClass("dropup");b(a).css({visibility:"visible"})}function g(a){var c,d;return a.attr("data-target")?(c=a.attr("data-target"),d=!1):(c=window,d=!0),b.each(a.parents(),function(a,h){return"visible"!==b(h).css("overflow")?(c=h,d=!1,!1):void 0}),{overflowElement:b(c),isWindow:d}}b(document.body).on("click.fu.dropdown-autoflip",
"[data-toggle=dropdown][data-flip]",function(){"auto"===b(this).data().flip&&k(b(this).next(".dropdown-menu"))});b(document.body).on("suggested.fu.pillbox",function(a,c){k(b(c));b(c).parent().addClass("open")});b.fn.dropdownautoflip=function(){}})(m);(function(b){var k=b.fn.loader,g=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.loader.defaults,c);this.begin=this.$element.is("[data-begin]")?parseInt(this.$element.attr("data-begin"),10):1;this.delay=this.$element.is("[data-delay]")?
parseFloat(this.$element.attr("data-delay")):150;this.end=this.$element.is("[data-end]")?parseInt(this.$element.attr("data-end"),10):8;this.frame=this.$element.is("[data-frame]")?parseInt(this.$element.attr("data-frame"),10):this.begin;this.isIElt9=!1;this.timeout={};var d=this.msieVersion();!1!==d&&9>d&&(this.$element.addClass("iefix"),this.isIElt9=!0);this.$element.attr("data-frame",this.frame+"");this.play()};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},
ieRepaint:function(){this.isIElt9&&this.$element.addClass("iefix_repaint").removeClass("iefix_repaint")},msieVersion:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1},next:function(){this.frame++;this.frame>this.end&&(this.frame=this.begin);this.$element.attr("data-frame",this.frame+"");this.ieRepaint()},pause:function(){clearTimeout(this.timeout)},play:function(){var a=this;clearTimeout(this.timeout);this.timeout=setTimeout(function(){a.next();
a.play()},this.delay)},previous:function(){this.frame--;this.frame<this.begin&&(this.frame=this.end);this.$element.attr("data-frame",this.frame+"");this.ieRepaint()},reset:function(){this.frame=this.begin;this.$element.attr("data-frame",this.frame+"");this.ieRepaint()}};b.fn.loader=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.loader"),n="object"==typeof a&&a;f||e.data("fu.loader",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,
d))});return void 0===c?e:c};b.fn.loader.defaults={};b.fn.loader.Constructor=g;b.fn.loader.noConflict=function(){return b.fn.loader=k,this};b(function(){b("[data-initialize=loader]").each(function(){var a=b(this);a.data("fu.loader")||a.loader(a.data())})})})(m);(function(b){var k=b.fn.placard,g=function(a,c){var d=this;this.$element=b(a);this.options=b.extend({},b.fn.placard.defaults,c);this.$accept=this.$element.find(".placard-accept");this.$cancel=this.$element.find(".placard-cancel");this.$field=
this.$element.find(".placard-field");this.$footer=this.$element.find(".placard-footer");this.$header=this.$element.find(".placard-header");this.$popup=this.$element.find(".placard-popup");this.actualValue=null;this.clickStamp="_";this.previousValue="";-1===this.options.revertOnCancel&&(this.options.revertOnCancel=0<this.$accept.length?!0:!1);this.isInput=this.$field.is("input");this.$field.on("focus.fu.placard",b.proxy(this.show,this));this.$field.on("keydown.fu.placard",b.proxy(this.keyComplete,
this));this.$accept.on("click.fu.placard",b.proxy(this.complete,this,"accept"));this.$cancel.on("click.fu.placard",function(a){a.preventDefault();d.complete("cancel")});this.ellipsis()};g.prototype={constructor:g,complete:function(a){var b=this.options["on"+a[0].toUpperCase()+a.substring(1)],d={previousValue:this.previousValue,value:this.$field.val()};b?(b(d),this.$element.trigger(a,d)):("cancel"===a&&this.options.revertOnCancel&&this.$field.val(this.previousValue),this.$element.trigger(a,d),this.hide())},
keyComplete:function(a){this.isInput&&13===a.keyCode?(this.complete("accept"),this.$field.blur()):27===a.keyCode&&(this.complete("cancel"),this.$field.blur())},destroy:function(){return this.$element.remove(),b(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.find("input").each(function(){b(this).attr("value",b(this).val())}),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled");this.$field.attr("disabled","disabled");this.hide()},ellipsis:function(){var a,
b,d;if("true"===this.$element.attr("data-ellipsis"))if(a=this.$field.get(0),this.$field.is("input"))a.scrollLeft=0;else if(a.scrollTop=0,a.clientHeight<a.scrollHeight){this.actualValue=this.$field.val();this.$field.val("");d="";for(b=0;a.clientHeight>=a.scrollHeight;)d+=this.actualValue[b],this.$field.val(d+"..."),b++;d=0<d.length?d.substring(0,d.length-1):"";this.$field.val(d+"...")}},enable:function(){this.$element.removeClass("disabled");this.$field.removeAttr("disabled")},externalClickListener:function(a,
b){(!0===b||this.isExternalClick(a))&&this.complete(this.options.externalClickAction)},getValue:function(){return null!==this.actualValue?this.actualValue:this.$field.val()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),this.ellipsis(),b(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.placard"))},isExternalClick:function(a){var c;c=this.$element.get(0);var d=this.options.externalClickExceptions||[],e=b(a.target);
if(a.target===c||e.parents(".placard:first").get(0)===c)return!1;a=0;for(c=d.length;c>a;a++)if(e.is(d[a])||0<e.parents(d[a]).length)return!1;return!0},setValue:function(a){this.$field.val(a);this.$element.hasClass("showing")||this.ellipsis()},show:function(){var a;if(!this.$element.hasClass("showing")){if(a=b(document).find(".placard.showing"),0<a.length){if(a.data("fu.placard")&&a.data("fu.placard").options.explicit)return;a.placard("externalClickListener",{},!0)}this.previousValue=this.$field.val();
this.$element.addClass("showing");null!==this.actualValue&&(this.$field.val(this.actualValue),this.actualValue=null);0<this.$header.length&&this.$popup.css("top","-"+this.$header.outerHeight(!0)+"px");0<this.$footer.length&&this.$popup.css("bottom","-"+this.$footer.outerHeight(!0)+"px");this.$element.trigger("shown.fu.placard");this.clickStamp=(new Date).getTime()+(Math.floor(100*Math.random())+1);this.options.explicit||b(document).on("click.fu.placard.externalClick."+this.clickStamp,b.proxy(this.externalClickListener,
this))}}};b.fn.placard=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.placard"),n="object"==typeof a&&a;f||e.data("fu.placard",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.placard.defaults={onAccept:void 0,onCancel:void 0,externalClickAction:"cancel",externalClickExceptions:[],explicit:!1,revertOnCancel:-1};b.fn.placard.Constructor=g;b.fn.placard.noConflict=function(){return b.fn.placard=k,this};
b(document).on("focus.fu.placard.data-api","[data-initialize=placard]",function(a){a=b(a.target).closest(".placard");a.data("fu.placard")||a.placard(a.data())});b(function(){b("[data-initialize=placard]").each(function(){var a=b(this);a.data("fu.placard")||a.placard(a.data())})})})(m);(function(b){var k=b.fn.radio,g=function(a,c){this.options=b.extend({},b.fn.radio.defaults,c);this.$radio=b(a).is('input[type="radio"]')?b(a):b(a).find('input[type="radio"]:first');this.$label=this.$radio.parent();this.groupName=
this.$radio.attr("name");this.$blockWrapper=this.$label.parent(".radio");this.isBlockWrapped=!0;this.$toggleContainer=null;0===this.$blockWrapper.length&&(this.isBlockWrapped=!1);var d=this.$radio.attr("data-toggle");d&&(this.$toggleContainer=b(d));this.setState(this.$radio);this.$radio.on("change.fu.radio",b.proxy(this.itemchecked,this))};g.prototype={constructor:g,destroy:function(){return this.isBlockWrapped?(this.$blockWrapper.remove(),this.$blockWrapper[0].outerHTML):(this.$label.remove(),this.$label[0].outerHTML)},
setState:function(a){a=a||this.$radio;var b=a.is(":checked");a=!!a.prop("disabled");this.$label.removeClass("checked");this.isBlockWrapped&&this.$blockWrapper.removeClass("checked disabled");!0===b&&(this.$label.addClass("checked"),this.isBlockWrapped&&this.$blockWrapper.addClass("checked"));!0===a&&(this.$label.addClass("disabled"),this.isBlockWrapped&&this.$blockWrapper.addClass("disabled"));this.toggleContainer()},resetGroup:function(){b('input[name="'+this.groupName+'"]').each(function(){var a=
b(this).parent("label");a.removeClass("checked");a.parent(".radio").removeClass("checked")})},enable:function(){this.$radio.attr("disabled",!1);this.$label.removeClass("disabled");this.isBlockWrapped&&this.$blockWrapper.removeClass("disabled")},disable:function(){this.$radio.attr("disabled",!0);this.$label.addClass("disabled");this.isBlockWrapped&&this.$blockWrapper.addClass("disabled")},itemchecked:function(a){a=b(a.target);this.resetGroup();this.setState(a)},check:function(){this.resetGroup();this.$radio.prop("checked",
!0);this.$radio.attr("checked","checked");this.setState(this.$radio)},toggleContainer:function(){var a;this.$toggleContainer&&(this.isChecked()?(a=b('input[name="'+this.groupName+'"]'),a.each(function(){var a=b(this).attr("data-toggle");b(a).addClass("hidden");b(a).attr("aria-hidden","true")}),this.$toggleContainer.removeClass("hide hidden"),this.$toggleContainer.attr("aria-hidden","false")):(this.$toggleContainer.addClass("hidden"),this.$toggleContainer.attr("aria-hidden","true")))},uncheck:function(){this.$radio.prop("checked",
!1);this.$radio.removeAttr("checked");this.setState(this.$radio)},isChecked:function(){return this.$radio.is(":checked")}};b.fn.radio=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.radio"),n="object"==typeof a&&a;f||e.data("fu.radio",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.radio.defaults={};b.fn.radio.Constructor=g;b.fn.radio.noConflict=function(){return b.fn.radio=k,this};b(document).on("mouseover.fu.checkbox.data-api",
"[data-initialize=radio]",function(a){a=b(a.target).closest(".radio").find("[type=radio]");a.data("fu.radio")||a.radio(a.data())});b(function(){b("[data-initialize=radio] [type=radio]").each(function(){var a=b(this);a.data("fu.radio")||a.radio(a.data())})})})(m);(function(b){var k=b.fn.search,g=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.search.defaults,c);this.$button=this.$element.find("button");this.$input=this.$element.find("input");this.$icon=this.$element.find(".glyphicon");
this.$button.on("click.fu.search",b.proxy(this.buttonclicked,this));this.$input.on("keydown.fu.search",b.proxy(this.keypress,this));this.$input.on("keyup.fu.search",b.proxy(this.keypressed,this));this.activeSearch=""};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){b(this).attr("value",b(this).val())}),this.$element[0].outerHTML},search:function(a){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove");
this.activeSearch=a;this.$element.addClass("searched");this.$element.trigger("searched.fu.search",a)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search");this.activeSearch="";this.$input.val("");this.$element.removeClass("searched");this.$element.trigger("cleared.fu.search")},action:function(){var a=this.$input.val(),b=""===a||a===this.activeSearch;this.activeSearch&&b?this.clear():a&&this.search(a)},buttonclicked:function(a){a.preventDefault();
b(a.currentTarget).is(".disabled, :disabled")||this.action()},keypress:function(a){13===a.which&&a.preventDefault()},keypressed:function(a){var b;13===a.which?(a.preventDefault(),this.action()):9===a.which?a.preventDefault():(b=this.$input.val(),b===this.activeSearch&&b?this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove"):(this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search"),b?this.$element.removeClass("searched"):this.options.clearOnEmpty&&this.clear()))},disable:function(){this.$element.addClass("disabled");
this.$input.attr("disabled","disabled");this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$button.removeClass("disabled")}};b.fn.search=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.search"),n="object"==typeof a&&a;f||e.data("fu.search",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.search.defaults={clearOnEmpty:!1};
b.fn.search.Constructor=g;b.fn.search.noConflict=function(){return b.fn.search=k,this};b(document).on("mousedown.fu.search.data-api","[data-initialize=search]",function(a){a=b(a.target).closest(".search");a.data("fu.search")||a.search(a.data())});b(function(){b("[data-initialize=search]").each(function(){var a=b(this);a.data("fu.search")||a.search(a.data())})})})(m);(function(b){var k=b.fn.selectlist,g=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.selectlist.defaults,c);this.$button=
this.$element.find(".btn.dropdown-toggle");this.$hiddenField=this.$element.find(".hidden-field");this.$label=this.$element.find(".selected-label");this.$dropdownMenu=this.$element.find(".dropdown-menu");this.$element.on("click.fu.selectlist",".dropdown-menu a",b.proxy(this.itemClicked,this));this.setDefaultSelection();"auto"!==c.resize&&"auto"!==this.$element.attr("data-resize")||this.resize()};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},
doSelect:function(a){this.$selectedItem=a;this.$hiddenField.val(this.$selectedItem.attr("data-value"));this.$label.html(b(this.$selectedItem.children()[0]).html());this.$element.find("li").each(function(){a.is(b(this))?b(this).attr("data-selected",!0):b(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(a){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem);a.preventDefault();b(a.target).parent().is(this.$selectedItem)||this.itemChanged(a);this.$element.find(".dropdown-toggle").focus()},
itemChanged:function(a){this.doSelect(b(a.target).closest("li"));a=this.selectedItem();this.$element.trigger("changed.fu.selectlist",a)},resize:function(){var a=0,c=0,d=b("<div/>").addClass("selectlist-sizer");Boolean(b(document).find("html").hasClass("fuelux"))?b(document.body).append(d):b(".fuelux:first").append(d);d.append(this.$element.clone());this.$element.find("a").each(function(){d.find(".selected-label").text(b(this).text());c=d.find(".selectlist").outerWidth();c+=d.find(".sr-only").outerWidth();
c>a&&(a=c)});1>=a||(this.$button.css("width",a),this.$dropdownMenu.css("width",a),d.remove())},selectedItem:function(){var a=this.$selectedItem.text();return b.extend({text:a},this.$selectedItem.data())},selectByText:function(a){var c=b([]);this.$element.find("li").each(function(){return(this.textContent||this.innerText||b(this).text()||"").toLowerCase()===(a||"").toLowerCase()?(c=b(this),!1):void 0});this.doSelect(c)},selectByValue:function(a){this.selectBySelector('li[data-value="'+a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+
a+")")},selectBySelector:function(a){a=this.$element.find(a);this.doSelect(a)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]").eq(0);0===a.length&&(a=this.$element.find("li").has("a").eq(0));this.doSelect(a)},enable:function(){this.$element.removeClass("disabled");this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$button.addClass("disabled")}};b.fn.selectlist=function(a){var c,d=Array.prototype.slice.call(arguments,1),
e=this.each(function(){var e=b(this),f=e.data("fu.selectlist"),n="object"==typeof a&&a;f||e.data("fu.selectlist",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.selectlist.defaults={};b.fn.selectlist.Constructor=g;b.fn.selectlist.noConflict=function(){return b.fn.selectlist=k,this};b(document).on("mousedown.fu.selectlist.data-api","[data-initialize=selectlist]",function(a){a=b(a.target).closest(".selectlist");a.data("fu.selectlist")||a.selectlist(a.data())});
b(function(){b("[data-initialize=selectlist]").each(function(){var a=b(this);a.data("fu.selectlist")||a.selectlist(a.data())})})})(m);(function(b){var k=b.fn.spinbox,g=function(a,c){this.$element=b(a);this.$element.find(".btn").on("click",function(a){a.preventDefault()});this.options=b.extend({},b.fn.spinbox.defaults,c);this.$input=this.$element.find(".spinbox-input");this.$element.on("focusin.fu.spinbox",this.$input,b.proxy(this.changeFlag,this));this.$element.on("focusout.fu.spinbox",this.$input,
b.proxy(this.change,this));this.$element.on("keydown.fu.spinbox",this.$input,b.proxy(this.keydown,this));this.$element.on("keyup.fu.spinbox",this.$input,b.proxy(this.keyup,this));this.bindMousewheelListeners();this.mousewheelTimeout={};this.options.hold?(this.$element.on("mousedown.fu.spinbox",".spinbox-up",b.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",b.proxy(this.stopSpin,this)),this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",
b.proxy(this.stopSpin,this)),this.$element.on("mousedown.fu.spinbox",".spinbox-down",b.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click.fu.spinbox",".spinbox-up",b.proxy(function(){this.step(!0)},this)),this.$element.on("click.fu.spinbox",".spinbox-down",b.proxy(function(){this.step(!1)},this)));this.switches={count:1,enabled:!0};this.switches.speed="medium"===this.options.speed?300:"fast"===this.options.speed?100:500;this.lastValue=this.options.value;this.render();this.options.disabled&&
this.disable()};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){b(this).attr("value",b(this).val())}),this.$element[0].outerHTML},render:function(){var a=this.parseInput(this.$input.val()),c="";""!==a&&0===this.options.value?this.value(a):this.output(this.options.value);this.options.units.length&&b.each(this.options.units,function(a,b){b.length>c.length&&(c=b)})},output:function(a,b){return a=(a+"").split(".").join(this.options.decimalMark),
b=b||!0,b&&this.$input.val(a),a},parseInput:function(a){return(a+"").split(this.options.decimalMark).join(".")},change:function(){var a=this.parseInput(this.$input.val())||"";this.options.units.length||"."!==this.options.decimalMark?a=this.parseValueWithUnit(a):a/1?a=this.options.value=this.checkMaxMin(a/1):(a=this.checkMaxMin(a.replace(/[^0-9.-]/g,"")||""),this.options.value=a/1);this.output(a);this.changeFlag=!1;this.triggerChangedEvent()},changeFlag:function(){this.changeFlag=!0},stopSpin:function(){void 0!==
this.switches.timeout&&(clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent())},triggerChangedEvent:function(){var a=this.value();a!==this.lastValue&&(this.lastValue=a,this.$element.trigger("changed.fu.spinbox",this.output(a,!1)))},startSpin:function(a){if(!this.options.disabled){var c=this.switches.count;1===c?(this.step(a),c=1):c=3>c?1.5:8>c?2.5:4;this.switches.timeout=setTimeout(b.proxy(function(){this.iterate(a)},this),this.switches.speed/c);this.switches.count++}},
iterate:function(a){this.step(a);this.startSpin(a)},step:function(a){var b,d,e,h;(this.changeFlag&&this.change(),e=this.options.value,h=a?this.options.max:this.options.min,a?h>e:e>h)?(e+=(a?1:-1)*this.options.step,0!==this.options.step%1&&(b=(this.options.step+"").split(".")[1].length,d=Math.pow(10,b),e=Math.round(e*d)/d),this.value((a?e>h:h>e)?h:e)):this.options.cycle&&this.value(a?this.options.min:this.options.max)},value:function(a){return a||0===a?this.options.units.length||"."!==this.options.decimalMark?
(this.output(this.parseValueWithUnit(a+(this.unit||""))),this):!isNaN(parseFloat(a))&&isFinite(a)?(this.options.value=a/1,this.output(a+(this.unit?this.unit:"")),this):void 0:(this.changeFlag&&this.change(),this.unit?this.options.value+this.unit:this.output(this.options.value,!1))},isUnitLegal:function(a){var c;return b.each(this.options.units,function(b,e){return e.toLowerCase()===a.toLowerCase()?(c=a.toLowerCase(),!1):void 0}),c},parseValueWithUnit:function(a){var b=a.replace(/[^a-zA-Z]/g,"");a=
a.replace(/[^0-9.-]/g,"");return b&&(b=this.isUnitLegal(b)),this.options.value=this.checkMaxMin(a/1),this.unit=b||void 0,this.options.value+(b||"")},checkMaxMin:function(a){return isNaN(parseFloat(a))?a:(a<=this.options.max&&a>=this.options.min||(a=a>=this.options.max?this.options.max:this.options.min),a)},disable:function(){this.options.disabled=!0;this.$element.addClass("disabled");this.$input.attr("disabled","");this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=
!1;this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$element.find("button").removeClass("disabled")},keydown:function(a){a=a.keyCode;38===a?this.step(!0):40===a&&this.step(!1)},keyup:function(a){a=a.keyCode;38!==a&&40!==a||this.triggerChangedEvent()},bindMousewheelListeners:function(){var a=this.$input.get(0);a.addEventListener?(a.addEventListener("mousewheel",b.proxy(this.mousewheelHandler,this),!1),a.addEventListener("DOMMouseScroll",b.proxy(this.mousewheelHandler,this),
!1)):a.attachEvent("onmousewheel",b.proxy(this.mousewheelHandler,this))},mousewheelHandler:function(a){if(!this.options.disabled){a=window.event||a;var b=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail)),d=this;return clearTimeout(this.mousewheelTimeout),this.mousewheelTimeout=setTimeout(function(){d.triggerChangedEvent()},300),this.step(0>b?!0:!1),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}}};b.fn.spinbox=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=
b(this),f=e.data("fu.spinbox"),n="object"==typeof a&&a;f||e.data("fu.spinbox",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:!0,speed:"medium",disabled:!1,cycle:!1,units:[],decimalMark:"."};b.fn.spinbox.Constructor=g;b.fn.spinbox.noConflict=function(){return b.fn.spinbox=k,this};b(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(a){a=b(a.target).closest(".spinbox");a.data("fu.spinbox")||
a.spinbox(a.data())});b(function(){b("[data-initialize=spinbox]").each(function(){var a=b(this);a.data("fu.spinbox")||a.spinbox(a.data())})})})(m);(function(b){var k=b.fn.tree,g=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.tree.defaults,c);this.options.itemSelect&&this.$element.on("click.fu.tree",".tree-item",b.proxy(function(a){this.selectItem(a.currentTarget)},this));this.$element.on("click.fu.tree",".tree-branch-name",b.proxy(function(a){this.toggleFolder(a.currentTarget)},this));
this.options.folderSelect&&(this.$element.off("click.fu.tree",".tree-branch-name"),this.$element.on("click.fu.tree",".icon-caret",b.proxy(function(a){this.toggleFolder(b(a.currentTarget).parent())},this)),this.$element.on("click.fu.tree",".tree-branch-name",b.proxy(function(a){this.selectFolder(b(a.currentTarget))},this)));this.render()};g.prototype={constructor:g,destroy:function(){return this.$element.find("li:not([data-template])").remove(),this.$element.remove(),this.$element[0].outerHTML},render:function(){this.populate(this.$element)},
populate:function(a){var c=this,d=a.hasClass("tree")?a:a.parent(),e=d.find(".tree-loader:eq(0)"),h=d.data();e.removeClass("hide");this.options.dataSource(h?h:{},function(f){e.addClass("hide");b.each(f.data,function(e,f){var h;"folder"===f.type?(h=c.$element.find("[data-template=treebranch]:eq(0)").clone().removeClass("hide").removeData("template"),h.data(f),h.find(".tree-branch-name > .tree-label").html(f.text||f.name)):"item"===f.type&&(h=c.$element.find("[data-template=treeitem]:eq(0)").clone().removeClass("hide").removeData("template"),
h.find(".tree-item-name > .tree-label").html(f.text||f.name),h.data(f));b.each(f.attr||f.dataAttributes||[],function(a,b){switch(a){case "cssClass":case "class":case "className":h.addClass(b);break;case "data-icon":h.find(".icon-item").removeClass().addClass("icon-item "+b);h.attr(a,b);break;case "id":h.attr(a,b);h.attr("aria-labelledby",b+"-label");h.find(".tree-branch-name > .tree-label").attr("id",b+"-label");break;default:h.attr(a,b)}});a.hasClass("tree-branch-header")?d.find(".tree-branch-children:eq(0)").append(h):
a.append(h)});c.$element.trigger("loaded.fu.tree",d)})},selectItem:function(a){if(this.options.itemSelect){var c=b(a);a=c.data();var d=this.$element.find(".tree-selected"),e=[],h=c.find(".icon-item");this.options.multiSelect?b.each(d,function(a,d){b(d)[0]!==c[0]&&e.push(b(d).data())}):d[0]!==c[0]&&(d.removeClass("tree-selected").find(".glyphicon").removeClass("glyphicon-ok").addClass("fueluxicon-bullet"),e.push(a));d="selected";c.hasClass("tree-selected")?(d="deselected",c.removeClass("tree-selected"),
(h.hasClass("glyphicon-ok")||h.hasClass("fueluxicon-bullet"))&&h.removeClass("glyphicon-ok").addClass("fueluxicon-bullet")):(c.addClass("tree-selected"),(h.hasClass("glyphicon-ok")||h.hasClass("fueluxicon-bullet"))&&h.removeClass("fueluxicon-bullet").addClass("glyphicon-ok"),this.options.multiSelect&&e.push(a));this.$element.trigger(d+".fu.tree",{target:a,selected:e});c.trigger("updated.fu.tree",{selected:e,item:c,eventType:d})}},openFolder:function(a,c){var d=b(a);c||!d.find(".glyphicon-folder-open").length||
this.options.ignoreRedundantOpens||this.closeFolder(a);var d=d.closest(".tree-branch"),e=d.find(".tree-branch-children"),h=e.eq(0);d.addClass("tree-open");d.attr("aria-expanded","true");h.removeClass("hide");d.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-close").addClass("glyphicon-folder-open");e.children().length||this.populate(e);this.$element.trigger("opened.fu.tree",d.data())},closeFolder:function(a){a=b(a).closest(".tree-branch");var c=a.find(".tree-branch-children").eq(0);
a.removeClass("tree-open");a.attr("aria-expanded","false");c.addClass("hide");a.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-open").addClass("glyphicon-folder-close");this.options.cacheItems||c.empty();this.$element.trigger("closed.fu.tree",a.data())},toggleFolder:function(a){var c=b(a);c.find(".glyphicon-folder-close").length?this.openFolder(a):c.find(".glyphicon-folder-open").length&&this.closeFolder(a)},selectFolder:function(a){if(this.options.folderSelect){var c=
b(a);a=c.closest(".tree-branch");var d=this.$element.find(".tree-branch.tree-selected"),e=a.data(),h=[],f="selected";a.hasClass("tree-selected")?(f="deselected",a.removeClass("tree-selected")):a.addClass("tree-selected");this.options.multiSelect?(d=this.$element.find(".tree-branch.tree-selected"),b.each(d,function(a,d){b(d)[0]!==c[0]&&h.push(b(d).data())})):d[0]!==c[0]&&(d.removeClass("tree-selected"),h.push(e));this.$element.trigger(f+".fu.tree",{target:e,selected:h});c.trigger("updated.fu.tree",
{selected:h,item:c,eventType:f})}},selectedItems:function(){var a=this.$element.find(".tree-selected"),c=[];return b.each(a,function(a,e){c.push(b(e).data())}),c},collapse:function(){var a=this,b=[];a.$element.on("closed.fu.tree",function e(h,f){b.push(f);0===a.$element.find(".tree-branch.tree-open:not('.hide')").length&&(a.$element.trigger("closedAll.fu.tree",{tree:a.$element,reportedClosed:b}),a.$element.off("loaded.fu.tree",a.$element,e))});a.$element.find(".tree-branch.tree-open:not('.hide')").each(function(){a.closeFolder(this)})},
discloseVisible:function(){var a=this,c=a.$element.find(".tree-branch:not('.tree-open, .hide')"),d=[];a.$element.on("loaded.fu.tree",function h(b,n){d.push(n);d.length===c.length&&(a.$element.trigger("disclosedVisible.fu.tree",{tree:a.$element,reportedOpened:d}),a.$element.off("loaded.fu.tree",a.$element,h))});a.$element.find(".tree-branch:not('.tree-open, .hide')").each(function(){a.openFolder(b(this).find(".tree-branch-header"),!0)})},discloseAll:function(){var a=this;"undefined"==typeof a.$element.data("disclosures")&&
a.$element.data("disclosures",0);var b=1<=a.options.disclosuresUpperLimit&&a.$element.data("disclosures")>=a.options.disclosuresUpperLimit;if(0===a.$element.find(".tree-branch:not('.tree-open, .hide')").length)a.$element.trigger("disclosedAll.fu.tree",{tree:a.$element,disclosures:a.$element.data("disclosures")}),a.options.cacheItems||a.$element.one("closeAll.fu.tree",function(){a.$element.data("disclosures",0)});else if(!b||(a.$element.trigger("exceededDisclosuresLimit.fu.tree",{tree:a.$element,disclosures:a.$element.data("disclosures")}),
a.$element.data("ignore-disclosures-limit")))a.$element.data("disclosures",a.$element.data("disclosures")+1),a.$element.one("disclosedVisible.fu.tree",function(){a.discloseAll()}),a.discloseVisible()}};g.prototype.closeAll=g.prototype.collapse;b.fn.tree=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.tree"),n="object"==typeof a&&a;f||e.data("fu.tree",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.tree.defaults=
{dataSource:function(){},multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,ignoreRedundantOpens:!1,disclosuresUpperLimit:0};b.fn.tree.Constructor=g;b.fn.tree.noConflict=function(){return b.fn.tree=k,this}})(m);(function(b){var k=b.fn.wizard,g=function(a,c){var d;this.$element=b(a);this.options=b.extend({},b.fn.wizard.defaults,c);this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")?!0:this.options.disablePreviousStep;this.currentStep=this.options.selectedItem.step;
this.numSteps=this.$element.find(".steps li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");d=this.$nextBtn.children().detach();this.nextText=b.trim(this.$nextBtn.text());this.$nextBtn.append(d);this.$prevBtn.on("click.fu.wizard",b.proxy(this.previous,this));this.$nextBtn.on("click.fu.wizard",b.proxy(this.next,this));this.$element.on("click.fu.wizard","li.complete",b.proxy(this.stepclicked,this));this.selectedItem(this.options.selectedItem);
this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(a){var c,d,e,h,f,n,g=[].slice.call(arguments).slice(1),u=this.$element.find(".steps"),l=this.$element.find(".step-content");a=-1===a||a>this.numSteps+1?this.numSteps+1:a;g[0]instanceof Array&&(g=g[0]);f=u.find("li:nth-child("+a+")");h=l.find(".step-pane:nth-child("+
a+")");1>f.length&&(f=null);c=0;for(d=g.length;d>c;c++)n=b('<li data-step="'+a+'"><span class="badge badge-info"></span></li>'),n.append(g[c].label||"").append('<span class="chevron"></span>'),n.find(".badge").append(g[c].badge||a),e=b('<div class="step-pane" data-step="'+a+'"></div>'),e.append(g[c].pane||""),f?(f.before(n),h.before(e)):(u.append(n),l.append(e)),a++;this.syncSteps();this.numSteps=u.find("li").length;this.setState()},removeSteps:function(a,c){var d,e="nextAll",h=0,f=this.$element.find(".steps"),
n=this.$element.find(".step-content");c=void 0!==c?c:1;a>f.find("li").length?d=f.find("li:last"):(d=f.find("li:nth-child("+a+")").prev(),1>d.length&&(e="children",d=f));d[e]().each(function(){var a=b(this),d=a.attr("data-step");return c>h?(a.remove(),n.find('.step-pane[data-step="'+d+'"]:first').remove(),void h++):!1});this.syncSteps();this.numSteps=f.find("li").length;this.setState()},setState:function(){var a=1<this.currentStep,c=1===this.currentStep,d=this.currentStep===this.numSteps;this.options.disablePreviousStep||
this.$prevBtn.attr("disabled",!0===c||!1===a);if(a=this.$nextBtn.attr("data-last"))this.lastText=a,a=this.nextText,!0===d?(a=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete"),d=this.$nextBtn.children().detach(),this.$nextBtn.text(a).append(d);d=this.$element.find(".steps li");d.removeClass("active").removeClass("complete");d.find("span.badge").removeClass("badge-info").removeClass("badge-success");d=this.$element.find(".steps li:lt("+(this.currentStep-1)+")");
d.addClass("complete");d.find("span.badge").addClass("badge-success");a=this.$element.find(".steps li:eq("+(this.currentStep-1)+")");a.addClass("active");a.find("span.badge").addClass("badge-info");d=this.$element.find(".step-content");a=a.attr("data-step");d.find(".step-pane").removeClass("active");d.find('.step-pane[data-step="'+a+'"]:first').addClass("active");this.$element.find(".steps").first().attr("style","margin-left: 0");var e=0;this.$element.find(".steps > li").each(function(){e+=b(this).outerWidth()});
d=0;if(d=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width(),e>d)d=e-d,this.$element.find(".steps").first().attr("style","margin-left: -"+d+"px"),200>this.$element.find("li.active").first().position().left&&(d+=this.$element.find("li.active").first().position().left-200,1>d?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+d+"px"));
"undefined"!=typeof this.initialized&&(d=b.Event("changed.fu.wizard"),this.$element.trigger(d,{step:this.currentStep}));this.initialized=!0},stepclicked:function(a){a=b(a.currentTarget);a=this.$element.find(".steps li").index(a);if(!(a<this.currentStep&&this.options.disablePreviousStep)){var c=b.Event("stepclicked.fu.wizard");this.$element.trigger(c,{step:a+1});c.isDefaultPrevented()||(this.currentStep=a+1,this.setState())}},syncSteps:function(){var a=1,c=this.$element.find(".steps"),d=this.$element.find(".step-content");
c.children().each(function(){var c=b(this),h=c.find(".badge"),f=c.attr("data-step");isNaN(parseInt(h.html(),10))||h.html(a);c.attr("data-step",a);d.find('.step-pane[data-step="'+f+'"]:last').attr("data-step",a);a++})},previous:function(){if(!this.options.disablePreviousStep&&1!==this.currentStep){var a=b.Event("actionclicked.fu.wizard");if(this.$element.trigger(a,{step:this.currentStep,direction:"previous"}),!a.isDefaultPrevented()&&(--this.currentStep,this.setState(),this.$prevBtn.is(":focus")))a=
this.$element.find(".active").find("input, select, textarea")[0],"undefined"!=typeof a?b(a).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()}},next:function(){if(this.currentStep<this.numSteps){var a=b.Event("actionclicked.fu.wizard");if(this.$element.trigger(a,{step:this.currentStep,direction:"next"}),a.isDefaultPrevented())return;this.currentStep+=1;this.setState()}else this.$element.trigger("finished.fu.wizard");this.$nextBtn.is(":focus")&&
(a=this.$element.find(".active").find("input, select, textarea")[0],"undefined"!=typeof a?b(a).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus())},selectedItem:function(a){var b,d;return a?(d=a.step||-1,1<=d&&d<=this.numSteps?(this.currentStep=d,this.setState()):(d=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(d)||(this.currentStep=parseInt(d,10),this.setState())),b=this):b={step:this.currentStep},b}};b.fn.wizard=
function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.wizard"),n="object"==typeof a&&a;f||e.data("fu.wizard",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}};b.fn.wizard.Constructor=g;b.fn.wizard.noConflict=function(){return b.fn.wizard=k,this};b(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(a){a=b(a.target).closest(".wizard");
a.data("fu.wizard")||a.wizard(a.data())});b(function(){b("[data-initialize=wizard]").each(function(){var a=b(this);a.data("fu.wizard")||a.wizard(a.data())})})})(m);(function(b){var k=b.fn.infinitescroll,g=function(a,c){this.$element=b(a);this.$element.addClass("infinitescroll");this.options=b.extend({},b.fn.infinitescroll.defaults,c);this.curScrollTop=this.$element.scrollTop();this.curPercentage=this.getPercentage();this.fetchingData=!1;this.$element.on("scroll.fu.infinitescroll",b.proxy(this.onScroll,
this));this.onScroll()};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element.empty(),this.$element[0].outerHTML},disable:function(){this.$element.off("scroll.fu.infinitescroll")},enable:function(){this.$element.on("scroll.fu.infinitescroll",b.proxy(this.onScroll,this))},end:function(a){var c=b('<div class="infinitescroll-end"></div>');c.append(a?a:"---------");this.$element.append(c);this.disable()},getPercentage:function(){var a="border-box"===this.$element.css("box-sizing")?
this.$element.outerHeight():this.$element.height(),b=this.$element.get(0).scrollHeight;return b>a?a/(b-this.curScrollTop)*100:0},fetchData:function(a){var c,d=b('<div class="infinitescroll-load"></div>'),e=this,h=function(){var a={percentage:e.curPercentage,scrollTop:e.curScrollTop},c=b('<div class="loader"></div>');d.append(c);c.loader();e.options.dataSource&&e.options.dataSource(a,function(a){var b;d.remove();a.content&&e.$element.append(a.content);a.end&&(b=!0!==a.end?a.end:void 0,e.end(b));e.fetchingData=
!1})};this.fetchingData=!0;this.$element.append(d);this.options.hybrid&&!0!==a?(c=b('<button type="button" class="btn btn-primary"></button>'),c.append("object"==typeof this.options.hybrid?this.options.hybrid.label:'<span class="glyphicon glyphicon-repeat"></span>'),c.on("click.fu.infinitescroll",function(){c.remove();h()}),d.append(c)):h()},onScroll:function(){this.curScrollTop=this.$element.scrollTop();this.curPercentage=this.getPercentage();!this.fetchingData&&this.curPercentage>=this.options.percentage&&
this.fetchData()}};b.fn.infinitescroll=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.infinitescroll"),n="object"==typeof a&&a;f||e.data("fu.infinitescroll",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.infinitescroll.defaults={dataSource:null,hybrid:!1,percentage:95};b.fn.infinitescroll.Constructor=g;b.fn.infinitescroll.noConflict=function(){return b.fn.infinitescroll=k,this}})(m);(function(b){var k=
b.fn.pillbox,g=function(a,c){this.$element=b(a);this.$moreCount=this.$element.find(".pillbox-more-count");this.$pillGroup=this.$element.find(".pill-group");this.$addItem=this.$element.find(".pillbox-add-item");this.$addItemWrap=this.$addItem.parent();this.$suggest=this.$element.find(".suggest");this.$pillHTML='<li class="btn btn-default pill">\t<span></span>\t<span class="glyphicon glyphicon-close">\t\t<span class="sr-only">Remove</span>\t</span></li>';this.options=b.extend({},b.fn.pillbox.defaults,
c);-1===this.options.readonly?void 0!==this.$element.attr("data-readonly")&&this.readonly(!0):this.options.readonly&&this.readonly(!0);this.acceptKeyCodes=this._generateObject(this.options.acceptKeyCodes);this.$element.on("click.fu.pillbox",".pill-group > .pill",b.proxy(this.itemClicked,this));this.$element.on("click.fu.pillbox",b.proxy(this.inputFocus,this));this.$element.on("keydown.fu.pillbox",".pillbox-add-item",b.proxy(this.inputEvent,this));this.options.onKeyDown&&this.$element.on("mousedown.fu.pillbox",
".suggest > li",b.proxy(this.suggestionClick,this));this.options.edit&&(this.$element.addClass("pills-editable"),this.$element.on("blur.fu.pillbox",".pillbox-add-item",b.proxy(this.cancelEdit,this)))};g.prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},items:function(){var a=this;return this.$pillGroup.children(".pill").map(function(){return a.getItemData(b(this))}).get()},itemClicked:function(a){var c=b(a.target);if(a.preventDefault(),a.stopPropagation(),
this._closeSuggestions(),c.hasClass("pill"))a=c;else if(a=c.parent(),void 0===this.$element.attr("data-readonly")){if(c.hasClass("glyphicon-close"))return this.options.onRemove?this.options.onRemove(this.getItemData(a,{el:a}),b.proxy(this._removeElement,this)):this._removeElement(this.getItemData(a,{el:a})),!1;if(this.options.edit){if(a.find(".pillbox-list-edit").length)return!1;this.openEdit(a)}}this.$element.trigger("clicked.fu.pillbox",this.getItemData(a))},readonly:function(a){a?this.$element.attr("data-readonly",
"readonly"):this.$element.removeAttr("data-readonly");this.options.truncate&&this.truncate(a)},suggestionClick:function(a){var c=b(a.currentTarget),d={text:c.html(),value:c.data("value")};a.preventDefault();this.$addItem.val("");c.data("attr")&&(d.attr=JSON.parse(c.data("attr")));d.data=c.data("data");this.addItems(d,!0);this._closeSuggestions()},itemCount:function(){return this.$pillGroup.children(".pill").length},addItems:function(){var a,c,d,e=this;!isFinite(String(arguments[0]))||arguments[0]instanceof
Array?(a=[].slice.call(arguments).slice(0),d=a[1]&&!a[1].text):(a=[].slice.call(arguments).slice(1),c=arguments[0]);a[0]instanceof Array&&(a=a[0]);a.length&&(b.each(a,function(b,c){var d={text:c.text,value:c.value?c.value:c.text,el:e.$pillHTML};c.attr&&(d.attr=c.attr);c.data&&(d.data=c.data);a[b]=d}),this.options.edit&&this.currentEdit&&(a[0].el=this.currentEdit.wrap("<div></div>").parent().html()),d&&a.pop(1),e.options.onAdd&&d?this.options.edit&&this.currentEdit?e.options.onAdd(a[0],b.proxy(e.saveEdit,
this)):e.options.onAdd(a[0],b.proxy(e.placeItems,this)):this.options.edit&&this.currentEdit?e.saveEdit(a):c?e.placeItems(c,a):e.placeItems(a,d))},removeItems:function(a,b){var d,e;if(a)for(b=b?b:1,d=0;b>d&&(e=this.$pillGroup.find("> .pill:nth-child("+a+")"),e);d++)e.remove();else this.$pillGroup.find(".pill").remove(),this._removePillTrigger({method:"removeAll"})},placeItems:function(){var a,c,d,e,h=[];!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(a=[].slice.call(arguments).slice(0),
e=a[1]&&!a[1].text):(a=[].slice.call(arguments).slice(1),c=arguments[0]);a[0]instanceof Array&&(a=a[0]);a.length&&(b.each(a,function(a,c){var d=b(c.el);d.attr("data-value",c.value);d.find("span:first").html(c.text);c.attr&&b.each(c.attr,function(a,b){"cssClass"===a||"class"===a?d.addClass(b):d.attr(a,b)});c.data&&d.data("data",c.data);h.push(d)}),0<this.$pillGroup.children(".pill").length?c?(d=this.$pillGroup.find(".pill:nth-child("+c+")"),d.length?d.before(h):this.$pillGroup.children(".pill:last").after(h)):
this.$pillGroup.children(".pill:last").after(h):this.$pillGroup.prepend(h),e&&this.$element.trigger("added.fu.pillbox",{text:a[0].text,value:a[0].value}))},inputEvent:function(a){var b,d,e,h,f=this,n=this.$addItem.val();if(this.acceptKeyCodes[a.keyCode])return this.options.onKeyDown&&this._isSuggestionsOpen()&&(h=this.$suggest.find(".pillbox-suggest-sel"),h.length&&(n=h.html(),b=h.data("value"),d=h.data("attr"))),(n.replace(/[ ]*\,[ ]*/,"").match(/\S/)||this.options.allowEmptyPills&&n.length)&&(this._closeSuggestions(),
this.$addItem.hide(),d?this.addItems({text:n,value:b,attr:JSON.parse(d)},!0):this.addItems({text:n,value:b},!0),setTimeout(function(){f.$addItem.show().val("").attr({size:10})},0)),a.preventDefault(),!0;if(8===a.keyCode||46===a.keyCode){if(!n.length)return a.preventDefault(),this.options.edit&&this.currentEdit?(this.cancelEdit(),!0):(this._closeSuggestions(),e=this.$pillGroup.children(".pill:last"),e.hasClass("pillbox-highlight")?this._removeElement(this.getItemData(e,{el:e})):e.addClass("pillbox-highlight"),
!0)}else 10<n.length&&this.$addItem.width()<this.$pillGroup.width()-6&&this.$addItem.attr({size:n.length+3});if(this.$pillGroup.find(".pill").removeClass("pillbox-highlight"),this.options.onKeyDown){if(9===a.keyCode||38===a.keyCode||40===a.keyCode)return this._isSuggestionsOpen()&&this._keySuggestions(a),!0;this.callbackId=a.timeStamp;this.options.onKeyDown({event:a,value:n},function(b){f._openSuggestions(a,b)})}},openEdit:function(a){var b=a.index()+1,d=this.$addItemWrap.detach().hide();this.$pillGroup.find(".pill:nth-child("+
b+")").before(d);this.currentEdit=a.detach();d.addClass("editing");this.$addItem.val(a.find("span:first").html());d.show();this.$addItem.focus().select()},cancelEdit:function(a){var b;return this.currentEdit?(this._closeSuggestions(),a&&this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,b=this.$addItemWrap.detach(),b.removeClass("editing"),this.$addItem.val(""),void this.$pillGroup.append(b)):!1},saveEdit:function(a){a=a[0]?a[0]:a;this.currentEdit=b(a.el);this.currentEdit.data("value",
a.value);this.currentEdit.find("span:first").html(a.text);this.$addItemWrap.hide();this.$addItemWrap.before(this.currentEdit);this.currentEdit=!1;this.$addItem.val("");this.$addItemWrap.removeClass("editing");this.$pillGroup.append(this.$addItemWrap.detach().show());this.$element.trigger("edited.fu.pillbox",{value:a.value,text:a.text})},removeBySelector:function(){var a=[].slice.call(arguments).slice(0),c=this;b.each(a,function(a,b){c.$pillGroup.find(b).remove()});this._removePillTrigger({method:"removeBySelector",
removedSelectors:a})},removeByValue:function(){var a=[].slice.call(arguments).slice(0),c=this;b.each(a,function(a,b){c.$pillGroup.find('> .pill[data-value="'+b+'"]').remove()});this._removePillTrigger({method:"removeByValue",removedValues:a})},removeByText:function(){var a=[].slice.call(arguments).slice(0),c=this;b.each(a,function(a,b){c.$pillGroup.find('> .pill:contains("'+b+'")').remove()});this._removePillTrigger({method:"removeByText",removedText:a})},truncate:function(a){var c,d,e,h,f,n=this;
this.$element.removeClass("truncate");this.$addItemWrap.removeClass("truncated");this.$pillGroup.find(".pill").removeClass("truncated");a&&(this.$element.addClass("truncate"),c=this.$element.width(),d=!1,e=0,h=this.$pillGroup.find(".pill").length,f=0,this.$pillGroup.find(".pill").each(function(){var a=b(this);d?a.addClass("truncated"):(e++,n.$moreCount.text(h-e),f+a.outerWidth(!0)+n.$addItemWrap.outerWidth(!0)<=c?f+=a.outerWidth(!0):(n.$moreCount.text(h-e+1),a.addClass("truncated"),d=!0))}),e===h&&
this.$addItemWrap.addClass("truncated"))},inputFocus:function(){this.$element.find(".pillbox-add-item").focus()},getItemData:function(a,c){return b.extend({text:a.find("span:first").html()},a.data(),c)},_removeElement:function(a){a.el.remove();delete a.el;this.$element.trigger("removed.fu.pillbox",a)},_removePillTrigger:function(a){this.$element.trigger("removed.fu.pillbox",a)},_generateObject:function(a){var c={};return b.each(a,function(a,b){c[b]=!0}),c},_openSuggestions:function(a,c){var d=b("<ul>");
return this.callbackId!==a.timeStamp?!1:void(c.data&&c.data.length&&(b.each(c.data,function(a,c){var f=b('<li data-value="'+(c.value?c.value:c.text)+'">'+c.text+"</li>");c.attr&&f.data("attr",JSON.stringify(c.attr));c.data&&f.data("data",c.data);d.append(f)}),this.$suggest.html("").append(d.children()),b(document.body).trigger("suggested.fu.pillbox",this.$suggest)))},_closeSuggestions:function(){this.$suggest.html("").parent().removeClass("open")},_isSuggestionsOpen:function(){return this.$suggest.parent().hasClass("open")},
_keySuggestions:function(a){var b,d=this.$suggest.find("li.pillbox-suggest-sel"),e=38===a.keyCode;a.preventDefault();d.length?(b=e?d.prev():d.next(),b.length||(b=this.$suggest.find(e?"li:last":"li:first")),b&&(b.addClass("pillbox-suggest-sel"),d.removeClass("pillbox-suggest-sel"))):(d=this.$suggest.find("li:first"),d.addClass("pillbox-suggest-sel"))}};b.fn.pillbox=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.pillbox"),n="object"==typeof a&&
a;f||e.data("fu.pillbox",f=new g(this,n));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.pillbox.defaults={onAdd:void 0,onRemove:void 0,onKeyDown:void 0,edit:!1,readonly:-1,truncate:!1,acceptKeyCodes:[13,188],allowEmptyPills:!1};b.fn.pillbox.Constructor=g;b.fn.pillbox.noConflict=function(){return b.fn.pillbox=k,this};b(document).on("mousedown.fu.pillbox.data-api","[data-initialize=pillbox]",function(a){a=b(a.target).closest(".pillbox");a.data("fu.pillbox")||a.pillbox(a.data())});
b(function(){b("[data-initialize=pillbox]").each(function(){var a=b(this);a.data("fu.pillbox")||a.pillbox(a.data())})})})(m);(function(b){var k=b.fn.repeater,g=function(a,c){var d,e,h=this;this.$element=b(a);this.$canvas=this.$element.find(".repeater-canvas");this.$count=this.$element.find(".repeater-count");this.$end=this.$element.find(".repeater-end");this.$filters=this.$element.find(".repeater-filters");this.$loader=this.$element.find(".repeater-loader");this.$pageSize=this.$element.find(".repeater-itemization .selectlist");
this.$nextBtn=this.$element.find(".repeater-next");this.$pages=this.$element.find(".repeater-pages");this.$prevBtn=this.$element.find(".repeater-prev");this.$primaryPaging=this.$element.find(".repeater-primaryPaging");this.$search=this.$element.find(".repeater-search").find(".search");this.$secondaryPaging=this.$element.find(".repeater-secondaryPaging");this.$start=this.$element.find(".repeater-start");this.$viewport=this.$element.find(".repeater-viewport");this.$views=this.$element.find(".repeater-views");
this.currentPage=0;this.currentView=null;this.infiniteScrollingCallback=function(){};this.infiniteScrollingCont=null;this.infiniteScrollingEnabled=!1;this.infiniteScrollingEnd=null;this.infiniteScrollingOptions={};this.lastPageInput=0;this.options=b.extend({},b.fn.repeater.defaults,c);this.pageIncrement=0;this.resizeTimeout={};this.stamp=(new Date).getTime()+(Math.floor(100*Math.random())+1);this.storedDataSourceOpts=null;this.viewOptions={};this.viewType=null;this.$filters.selectlist();this.$pageSize.selectlist();
this.$primaryPaging.find(".combobox").combobox();this.$search.search();this.$filters.on("changed.fu.selectlist",function(a,b){h.$element.trigger("filtered.fu.repeater",b);h.render({clearInfinite:!0,pageIncrement:null})});this.$nextBtn.on("click.fu.repeater",b.proxy(this.next,this));this.$pageSize.on("changed.fu.selectlist",function(a,b){h.$element.trigger("pageSizeChanged.fu.repeater",b);h.render({pageIncrement:null})});this.$prevBtn.on("click.fu.repeater",b.proxy(this.previous,this));this.$primaryPaging.find(".combobox").on("changed.fu.combobox",
function(a,b){h.$element.trigger("pageChanged.fu.repeater",[b.text,b]);h.pageInputChange(b.text)});this.$search.on("searched.fu.search cleared.fu.search",function(a,b){h.$element.trigger("searchChanged.fu.repeater",b);h.render({clearInfinite:!0,pageIncrement:null})});this.$secondaryPaging.on("blur.fu.repeater",function(){h.pageInputChange(h.$secondaryPaging.val())});this.$secondaryPaging.on("keyup",function(a){13===a.keyCode&&h.pageInputChange(h.$secondaryPaging.val())});this.$views.find("input").on("change.fu.repeater",
b.proxy(this.viewChanged,this));b(window).on("resize.fu.repeater."+this.stamp,function(){clearTimeout(h.resizeTimeout);h.resizeTimeout=setTimeout(function(){h.resize();h.$element.trigger("resized.fu.repeater")},75)});this.$loader.loader();this.$loader.loader("pause");-1!==this.options.defaultView?e=this.options.defaultView:(d=this.$views.find("label.active input"),e=0<d.length?d.val():"list");this.setViewOptions(e);this.initViewTypes(function(){h.resize();h.$element.trigger("resized.fu.repeater");
h.render({changeView:e})})};g.prototype={constructor:g,clear:function(a){function c(a){var d=[];a.children().each(function(){var a=b(this),e=a.attr("data-preserve");"deep"===e?(a.detach(),d.push(a)):"shallow"===e&&(c(a),a.detach(),d.push(a))});a.empty();a.append(d)}var d,e;a=a||{};a.preserve?(!this.infiniteScrollingEnabled||a.clearInfinite)&&c(this.$canvas):this.$canvas.empty();d=void 0!==a.viewChanged?a.viewChanged:!1;e=b.fn.repeater.viewTypes[this.viewType]||{};!d&&e.cleared&&e.cleared.call(this,
{options:a})},clearPreservedDataSourceOptions:function(){this.storedDataSourceOpts=null},destroy:function(){var a;return this.$element.find("input").each(function(){b(this).attr("value",b(this).val())}),this.$canvas.empty(),a=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".search").search("destroy"),this.infiniteScrollingEnabled&&b(this.infiniteScrollingCont).infinitescroll("destroy"),this.$element.remove(),
b(window).off("resize.fu.repeater."+this.stamp),a},getDataOptions:function(a){var c,d,e={},h={};return a=a||{},h.filter=0<this.$filters.length?this.$filters.selectlist("selectedItem"):{text:"All",value:"all"},h.view=this.currentView,this.infiniteScrollingEnabled||(h.pageSize=0<this.$pageSize.length?parseInt(this.$pageSize.selectlist("selectedItem").value,10):25),void 0!==a.pageIncrement&&(null===a.pageIncrement?this.currentPage=0:this.currentPage+=a.pageIncrement),h.pageIndex=this.currentPage,c=0<
this.$search.length?this.$search.find("input").val():"",""!==c&&(h.search=c),a.dataSourceOptions&&(e=a.dataSourceOptions,a.preserveDataSourceOptions&&(this.storedDataSourceOpts=this.storedDataSourceOpts?b.extend(this.storedDataSourceOpts,e):e)),this.storedDataSourceOpts&&(e=b.extend(this.storedDataSourceOpts,e)),d=b.fn.repeater.viewTypes[this.viewType]||{},d=d.dataOptions,d?(d=d.call(this,h),h=b.extend(d,e)):h=b.extend(h,e),h},infiniteScrolling:function(a,b){var d,e,h=this.$element.find(".repeater-itemization"),
f=this.$element.find(".repeater-pagination");b=b||{};a?(this.infiniteScrollingEnabled=!0,this.infiniteScrollingEnd=b.end,delete b.dataSource,delete b.end,this.infiniteScrollingOptions=b,h.hide(),f.hide()):(d=this.infiniteScrollingCont,e=d.data(),delete e.infinitescroll,d.off("scroll"),d.removeClass("infinitescroll"),this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},h.show(),f.show())},infiniteScrollPaging:function(a){var b=
!0!==this.infiniteScrollingEnd?this.infiniteScrollingEnd:void 0,d=a.page;a=a.pages;this.currentPage=void 0!==d?d:0/0;this.currentPage+1>=a&&this.infiniteScrollingCont.infinitescroll("end",b)},initInfiniteScrolling:function(){var a,c,d=this.$canvas.find('[data-infinite="true"]:first'),d=1>d.length?this.$canvas:d;d.data("fu.infinitescroll")?d.infinitescroll("enable"):(c=this,a=b.extend({},this.infiniteScrollingOptions),a.dataSource=function(a,b){c.infiniteScrollingCallback=b;c.render({pageIncrement:1})},
d.infinitescroll(a),this.infiniteScrollingCont=d)},initViewTypes:function(a){function c(b){f[b].initialize?f[b].initialize.call(h,{},function(){b++;e>b?c(b):a()}):(b++,e>b?c(b):a())}var d,e,h=this,f=[];for(d in b.fn.repeater.viewTypes)f.push(b.fn.repeater.viewTypes[d]);e=f.length;0<e?c(0):a()},itemization:function(a){this.$count.html(a.count||"");this.$end.html(a.end||"");this.$start.html(a.start||"")},next:function(){this.$nextBtn.attr("disabled","disabled");this.$prevBtn.attr("disabled","disabled");
this.pageIncrement=1;this.$element.trigger("nextClicked.fu.repeater");this.render({pageIncrement:this.pageIncrement})},pageInputChange:function(a){var b;a!==this.lastPageInput&&(this.lastPageInput=a,a=parseInt(a,10)-1,b=a-this.currentPage,this.$element.trigger("pageChanged.fu.repeater",a),this.render({pageIncrement:b}))},pagination:function(a){var b,d,e;b=a.page;a=a.pages;if(this.currentPage=void 0!==b?b:0/0,this.$primaryPaging.removeClass("active"),this.$secondaryPaging.removeClass("active"),a<=
this.viewOptions.dropPagingCap){this.$primaryPaging.addClass("active");b=this.$primaryPaging.find(".dropdown-menu");b.empty();for(d=0;a>d;d++)e=d+1,b.append('<li data-value="'+e+'"><a href="#">'+e+"</a></li>");this.$primaryPaging.find("input.form-control").val(this.currentPage+1)}else this.$secondaryPaging.addClass("active"),this.$secondaryPaging.val(this.currentPage+1);this.lastPageInput=this.currentPage+1+"";this.$pages.html(a);this.currentPage+1<a?this.$nextBtn.removeAttr("disabled"):this.$nextBtn.attr("disabled",
"disabled");0<=this.currentPage-1?this.$prevBtn.removeAttr("disabled"):this.$prevBtn.attr("disabled","disabled");0!==this.pageIncrement&&(0<this.pageIncrement?this.$nextBtn.is(":disabled")?this.$prevBtn.focus():this.$nextBtn.focus():this.$prevBtn.is(":disabled")?this.$nextBtn.focus():this.$prevBtn.focus())},previous:function(){this.$nextBtn.attr("disabled","disabled");this.$prevBtn.attr("disabled","disabled");this.pageIncrement=-1;this.$element.trigger("previousClicked.fu.repeater");this.render({pageIncrement:this.pageIncrement})},
render:function(a){var c,d,e=this,h=!1,f=b.fn.repeater.viewTypes[this.viewType]||{};a=a||{};a.changeView&&this.currentView!==a.changeView&&(d=this.currentView,this.currentView=a.changeView,this.viewType=this.currentView.split(".")[0],this.setViewOptions(this.currentView),this.$element.attr("data-currentview",this.currentView),this.$element.attr("data-viewtype",this.viewType),h=!0,a.viewChanged=h,this.$element.trigger("viewChanged.fu.repeater",this.currentView),this.infiniteScrollingEnabled&&e.infiniteScrolling(!1),
f=b.fn.repeater.viewTypes[this.viewType]||{},f.selected&&f.selected.call(this,{prevView:d}));a.preserve=void 0!==a.preserve?a.preserve:!h;this.clear(a);(!this.infiniteScrollingEnabled||this.infiniteScrollingEnabled&&h)&&this.$loader.show().loader("play");c=this.getDataOptions(a);this.viewOptions.dataSource(c,function(b){e.infiniteScrollingEnabled?e.infiniteScrollingCallback({}):(e.itemization(b),e.pagination(b));e.runRenderer(f,b,function(){e.infiniteScrollingEnabled&&((h||a.clearInfinite)&&e.initInfiniteScrolling(),
e.infiniteScrollPaging(b,a));e.$loader.hide().loader("pause");e.$element.trigger("rendered.fu.repeater",{data:b,options:c,renderOptions:a});e.$element.trigger("loaded.fu.repeater",c)})})},resize:function(){var a,c,d=-1===this.viewOptions.staticHeight?this.$element.attr("data-staticheight"):this.viewOptions.staticHeight,e={};this.viewType&&(e=b.fn.repeater.viewTypes[this.viewType]||{});void 0!==d&&!1!==d&&"false"!==d?(this.$canvas.addClass("scrolling"),c={bottom:this.$viewport.css("margin-bottom"),
top:this.$viewport.css("margin-top")},a=("true"===d||!0===d?this.$element.height():parseInt(d,10))-this.$element.find(".repeater-header").outerHeight()-this.$element.find(".repeater-footer").outerHeight()-("auto"===c.bottom?0:parseInt(c.bottom,10))-("auto"===c.top?0:parseInt(c.top,10)),this.$viewport.outerHeight(a)):this.$canvas.removeClass("scrolling");e.resize&&e.resize.call(this,{height:this.$element.outerHeight(),width:this.$element.outerWidth()})},runRenderer:function(a,c,d){function e(a,c){var d;
c&&(d=c.action?c.action:"append","none"!==d&&void 0!==c.item&&(a=void 0!==c.container?b(c.container):a,a[d](c.item)))}var h,f,g,t,u,l;if(a.render)a.render.call(this,{container:this.$canvas,data:c},function(){d()});else{if(a.before&&(t=a.before.call(this,{container:this.$canvas,data:c}),e(this.$canvas,t)),h=this.$canvas.find('[data-container="true"]:last'),h=0<h.length?h:this.$canvas,a.renderItem){u=a.repeat||"data.items";u=u.split(".");"data"===u[0]||"this"===u[0]?(l="this"===u[0]?this:c,u.shift()):
(u=[],l=[],window.console&&window.console.warn&&window.console.warn('WARNING: Repeater plugin "repeat" value must start with either "data" or "this"'));f=0;for(g=u.length;g>f;f++){if(void 0===l[u[f]]){l=[];window.console&&window.console.warn&&window.console.warn("WARNING: Repeater unable to find property to iterate renderItem on.");break}l=l[u[f]]}f=0;for(g=l.length;g>f;f++)t=a.renderItem.call(this,{container:h,data:c,index:f,subset:l}),e(h,t)}a.after&&(t=a.after.call(this,{container:this.$canvas,
data:c}),e(this.$canvas,t));d()}},setViewOptions:function(a){var c={},c=(c=a.split(".")[1])&&this.options.views?this.options.views[c]||this.options.views[a]||{}:{};this.viewOptions=b.extend({},this.options,c)},viewChanged:function(a){a=b(a.target).val();this.render({changeView:a,pageIncrement:null})}};b.fn.repeater=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.repeater"),n="object"==typeof a&&a;f||e.data("fu.repeater",f=new g(this,n));
"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.repeater.defaults={dataSource:function(){},defaultView:-1,dropPagingCap:10,staticHeight:-1,views:null};b.fn.repeater.viewTypes={};b.fn.repeater.Constructor=g;b.fn.repeater.noConflict=function(){return b.fn.repeater=k,this}})(m);(function(b){function k(a,c,d,e,g){var l=e[g].className,r=c[d][e[g].property],q=b("<td></td>"),p=e[g]._auto_width;q.addClass(void 0!==l?l:"").append(r);void 0!==p&&q.outerWidth(p);a.append(q);this.viewOptions.list_columnRendered&&
this.viewOptions.list_columnRendered({container:a,columnAttr:e[g].property,item:q,rowData:c[d]},function(){})}function g(a,c,d){var e,g,l,r,q,p=b('<div class="repeater-list-heading"><span class="glyphicon rlc"></span></div>'),k=b("<th></th>"),m=this;p.data("fu_item_index",d);p.prepend(c[d].label);k.html(p.html()).find("[id]").removeAttr("id");k.append(p);e=k.add(p);r=p.find(".glyphicon.rlc:first");q=r.add(k.find(".glyphicon.rlc:first"));g=c[d].className;void 0!==g&&e.addClass(g);(l=c[d].sortable)&&
(e.addClass("sortable"),p.on("click.fu.repeaterList",function(){m.list_sortProperty="string"==typeof l?l:c[d].property;p.hasClass("sorted")?r.hasClass("glyphicon-chevron-up")?(q.removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"),m.list_sortDirection="desc"):m.viewOptions.list_sortClearing?(e.removeClass("sorted"),q.removeClass("glyphicon-chevron-down"),m.list_sortDirection=null,m.list_sortProperty=null):(q.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"),
m.list_sortDirection="asc"):(a.find("th, .repeater-list-heading").removeClass("sorted"),q.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"),m.list_sortDirection="asc",e.addClass("sorted"));m.render({clearInfinite:!0,pageIncrement:null})}));("asc"===c[d].sortDirection||"desc"===c[d].sortDirection)&&(a.find("th, .repeater-list-heading").removeClass("sorted"),e.addClass("sortable sorted"),"asc"===c[d].sortDirection?(q.addClass("glyphicon-chevron-up"),this.list_sortDirection="asc"):
(q.addClass("glyphicon-chevron-down"),this.list_sortDirection="desc"),this.list_sortProperty="string"==typeof l?l:c[d].property);a.append(k)}function a(a,c,d){var e,g,l=b("<tr></tr>"),r=this;this.viewOptions.list_selectable&&(l.addClass("selectable"),l.attr("tabindex",0),l.data("item_data",c[d]),l.on("click.fu.repeaterList",function(){var a=b(this);a.hasClass("selected")?(a.removeClass("selected"),a.find(".repeater-list-check").remove(),a.$element.trigger("deselected.fu.repeaterList",a)):("multi"!==
r.viewOptions.list_selectable&&(r.$canvas.find(".repeater-list-check").remove(),r.$canvas.find(".repeater-list tbody tr.selected").each(function(){b(this).removeClass("selected");r.$element.trigger("deselected.fu.repeaterList",b(this))})),a.addClass("selected"),a.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'),r.$element.trigger("selected.fu.repeaterList",a))}),l.keyup(function(a){13===a.keyCode&&l.trigger("click.fu.repeaterList")}));
a.append(l);e=0;for(g=this.list_columns.length;g>e;e++)k.call(this,l,c,d,this.list_columns,e);this.viewOptions.list_rowRendered&&this.viewOptions.list_rowRendered({container:a,item:l,rowData:c[d]},function(){})}function c(a,c){var d,e=a.find("tbody");1>e.length&&(e=b('<tbody data-container="true"></tbody>'),a.append(e));c.items&&1>c.items.length&&(d=b('<tr class="empty"><td colspan="'+this.list_columns.length+'"></td></tr>'),d.find("td").append(this.viewOptions.list_noItemsHTML),e.append(d))}function d(a,
c){function d(a,b){if(!b)return!1;if(!a||b.length!==a.length)return!0;t=0;for(l=b.length;l>t;t++){if(!a[t])return!0;for(k in b[t])if(a[t][k]!==b[t][k])return!0}return!1}var t,k,l,r,q,p=c.columns||[];if(this.list_firstRender||d(this.list_columns,p)){a.find("thead").remove();this.list_columns=p;this.list_firstRender=!1;this.$loader.removeClass("noHeader");r=b('<thead data-preserve="deep"><tr></tr></thead>');q=r.find("tr");t=0;for(l=p.length;l>t;t++)g.call(this,q,p,t);a.prepend(r);e.call(this,q)}}function e(a){var c,
d,e,g=[],l=this;if(this.viewOptions.list_columnSizing&&(c=0,e=0,a.find("th").each(function(){var a,d=b(this),h=0===d.next("th").length;void 0!==l.list_columns[c].width?(a=l.list_columns[c].width,d.outerWidth(a),e+=d.outerWidth(),h?d.outerWidth(""):l.list_columns[c]._auto_width=a):g.push({col:d,index:c,last:h});c++}),d=g.length,0<d))for(a=Math.floor((this.$canvas.width()-e)/d),c=0;d>c;c++)g[c].last||(g[c].col.outerWidth(a),this.list_columns[g[c].index]._auto_width=a)}b.fn.repeater&&(b.fn.repeater.Constructor.prototype.list_clearSelectedItems=
function(){this.$canvas.find(".repeater-list-check").remove();this.$canvas.find(".repeater-list table tbody tr.selected").removeClass("selected")},b.fn.repeater.Constructor.prototype.list_highlightColumn=function(a,c){var d=this.$canvas.find(".repeater-list tbody");(this.viewOptions.list_highlightSortedColumn||c)&&(d.find("td.sorted").removeClass("sorted"),d.find("tr").each(function(){b(this).find("td:nth-child("+(a+1)+")").addClass("sorted")}))},b.fn.repeater.Constructor.prototype.list_getSelectedItems=
function(){var a=[];return this.$canvas.find(".repeater-list table tbody tr.selected").each(function(){var c=b(this);a.push({data:c.data("item_data"),element:c})}),a},b.fn.repeater.Constructor.prototype.list_positionHeadings=function(){var a=this.$element.find(".repeater-list-wrapper"),c=a.offset().left,d=a.scrollLeft();a.find(".repeater-list-heading").each(0<d?function(){var a=b(this),d=a.parents("th:first").offset().left-c+"px";a.addClass("shifted").css("left",d)}:function(){b(this).removeClass("shifted").css("left",
"")})},b.fn.repeater.Constructor.prototype.list_setSelectedItems=function(a,c){function d(){k=b(this);g=k.data("item_data")||{};g[a[l].property]===a[l].value&&e(k,a[l].selected)}function e(a,b){(void 0!==b?b:1)?(c||"multi"===p||m.list_clearSelectedItems(),a.hasClass("selected")||(a.addClass("selected"),a.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'))):(a.find(".repeater-list-check").remove(),a.removeClass("selected"))}var g,l,k,q,p=
this.viewOptions.list_selectable,m=this;b.isArray(a)||(a=[a]);q=!0===c||"multi"===p?a.length:p&&0<a.length?1:0;for(l=0;q>l;l++)void 0!==a[l].index?(k=this.$canvas.find(".repeater-list table tbody tr:nth-child("+(a[l].index+1)+")"),0<k.length&&e(k,a[l].selected)):void 0!==a[l].property&&void 0!==a[l].value&&this.$canvas.find(".repeater-list table tbody tr").each(d)},b.fn.repeater.Constructor.prototype.list_sizeHeadings=function(){this.$element.find(".repeater-list table").find("thead th").each(function(){var a=
b(this),c=a.find(".repeater-list-heading");c.outerHeight(a.outerHeight());c.outerWidth(a.outerWidth())})},b.fn.repeater.defaults=b.extend({},b.fn.repeater.defaults,{list_columnRendered:null,list_columnSizing:!0,list_columnSyncing:!0,list_highlightSortedColumn:!1,list_infiniteScroll:!1,list_noItemsHTML:"",list_selectable:!1,list_sortClearing:!1,list_rowRendered:null}),b.fn.repeater.viewTypes.list={cleared:function(){this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},dataOptions:function(a){return this.list_sortDirection&&
(a.sortDirection=this.list_sortDirection),this.list_sortProperty&&(a.sortProperty=this.list_sortProperty),a},initialize:function(a,b){this.list_sortProperty=this.list_sortDirection=null;b()},resize:function(){this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},selected:function(){var a,b=this.viewOptions.list_infiniteScroll;this.list_firstRender=!0;this.$loader.addClass("noHeader");b&&(a="object"==typeof b?b:{},this.infiniteScrolling(!0,a))},before:function(a){var e,g=a.container.find(".repeater-list"),
k=this;return 1>g.length&&(g=b('<div class="repeater-list" data-preserve="shallow"><div class="repeater-list-wrapper" data-infinite="true" data-preserve="shallow"><table aria-readonly="true" class="table" data-preserve="shallow" role="grid"></table></div></div>'),g.find(".repeater-list-wrapper").on("scroll.fu.repeaterList",function(){k.viewOptions.list_columnSyncing&&k.list_positionHeadings()}),a.container.append(g)),e=g.find("table"),d.call(this,e,a.data),c.call(this,e,a.data),!1},renderItem:function(b){return a.call(this,
b.container,b.subset,b.index),!1},after:function(){var a;return this.viewOptions.list_columnSyncing&&(this.list_sizeHeadings(),this.list_positionHeadings()),a=this.$canvas.find(".repeater-list-heading.sorted"),0<a.length&&this.list_highlightColumn(a.data("fu_item_index")),!1}})})(m);(function(b){function k(g,a){for(var c=!1;!c&&0<=a.search("{{");){var d=void 0,e=void 0,h=void 0,e=a.indexOf("{{"),d=a.indexOf("}}",e+2);-1<e&&-1<d?(h=b.trim(a.substring(e+2,d)),h=void 0!==g[h]?g[h]:"",a=a.substring(0,
e)+h+a.substring(d+2)):c=!0}return a}b.fn.repeater&&(b.fn.repeater.Constructor.prototype.thumbnail_clearSelectedItems=function(){this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").removeClass("selected")},b.fn.repeater.Constructor.prototype.thumbnail_getSelectedItems=function(){var g=[];return this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){g.push(b(this))}),g},b.fn.repeater.Constructor.prototype.thumbnail_setSelectedItems=function(g,a){function c(){return k===
g[h].index?(f=b(this),!1):void k++}function d(){f=b(this);f.is(g[h].selector)&&e(f,g[h].selected)}function e(b,c){(void 0!==c?c:1)?(a||"multi"===m||l.thumbnail_clearSelectedItems(),b.addClass("selected")):b.removeClass("selected")}var h,f,n,k,m=this.viewOptions.thumbnail_selectable,l=this;b.isArray(g)||(g=[g]);n=!0===a||"multi"===m?g.length:m&&0<g.length?1:0;for(h=0;n>h;h++)void 0!==g[h].index?(f=b(),k=0,this.$canvas.find(".repeater-thumbnail-cont .selectable").each(c),0<f.length&&e(f,g[h].selected)):
g[h].selector&&this.$canvas.find(".repeater-thumbnail-cont .selectable").each(d)},b.fn.repeater.defaults=b.extend({},b.fn.repeater.defaults,{thumbnail_alignment:"left",thumbnail_infiniteScroll:!1,thumbnail_itemRendered:null,thumbnail_selectable:!1,thumbnail_template:'<div class="thumbnail repeater-thumbnail"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'}),b.fn.repeater.viewTypes.thumbnail={selected:function(){var b,a=this.viewOptions.thumbnail_infiniteScroll;a&&(b="object"==
typeof a?a:{},this.infiniteScrolling(!0,b))},before:function(g){var a,c,d=this.viewOptions.thumbnail_alignment,e=this.$canvas.find(".repeater-thumbnail-cont");g=g.data;var h={};return 1>e.length&&(e=b('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),d&&"none"!==d?(c={center:1,justify:1,left:1,right:1},d=c[d]?d:"justify",e.addClass("align-"+d),this.thumbnail_injectSpacers=!0,h.item=e):(this.thumbnail_injectSpacers=!1,h.action=
"none")),g.items&&1>g.items.length?(a=b('<div class="empty"></div>'),a.append(this.viewOptions.thumbnail_noItemsHTML),e.append(a)):e.find(".empty:first").remove(),h},renderItem:function(g){var a=this.viewOptions.thumbnail_selectable,c=this,d=b(k(g.subset[g.index],this.viewOptions.thumbnail_template));return a&&(d.addClass("selectable"),d.on("click",function(){d.hasClass("selected")?(d.removeClass("selected"),c.$element.trigger("deselected.fu.repeaterThumbnail",d)):("multi"!==a&&c.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){var a=
b(this);a.removeClass("selected");c.$element.trigger("deselected.fu.repeaterThumbnail",a)}),d.addClass("selected"),c.$element.trigger("selected.fu.repeaterThumbnail",d))})),g.container.append(d),this.thumbnail_injectSpacers&&d.after('<span class="spacer">&nbsp;</span>'),this.viewOptions.thumbnail_itemRendered&&this.viewOptions.thumbnail_itemRendered({container:g.container,item:d,itemData:g.subset[g.index]},function(){}),!1}})})(m);(function(b){var k=b.fn.scheduler,g=function(a,c){var d=this;this.$element=
b(a);this.options=b.extend({},b.fn.scheduler.defaults,c);this.$startDate=this.$element.find(".start-datetime .start-date");this.$startTime=this.$element.find(".start-datetime .start-time");this.$timeZone=this.$element.find(".timezone-container .timezone");this.$repeatIntervalPanel=this.$element.find(".repeat-every-panel");this.$repeatIntervalSelect=this.$element.find(".repeat-options");this.$repeatIntervalSpinbox=this.$element.find(".repeat-every");this.$repeatIntervalTxt=this.$element.find(".repeat-every-text");
this.$end=this.$element.find(".repeat-end");this.$endSelect=this.$end.find(".end-options");this.$endAfter=this.$end.find(".end-after");this.$endDate=this.$end.find(".end-on-date");this.$recurrencePanels=this.$element.find(".repeat-panel");this.$repeatIntervalSelect.selectlist();this.$element.find(".selectlist").selectlist();this.$startDate.datepicker(this.options.startDateOptions);this.$startTime.combobox();""===this.$startTime.find("input").val()&&this.$startTime.combobox("selectByIndex",0);this.$repeatIntervalSpinbox.spinbox("0"===
this.$repeatIntervalSpinbox.find("input").val()?{value:1,min:1}:{min:1});this.$endAfter.spinbox({value:1,min:1});this.$endDate.datepicker(this.options.endDateOptions);this.$element.find(".radio-custom").radio();this.$repeatIntervalSelect.on("changed.fu.selectlist",b.proxy(this.repeatIntervalSelectChanged,this));this.$endSelect.on("changed.fu.selectlist",b.proxy(this.endSelectChanged,this));this.$element.find(".repeat-days-of-the-week .btn-group .btn").on("change.fu.scheduler",function(a,b){d.changed(a,
b,!0)});this.$element.find(".combobox").on("changed.fu.combobox",b.proxy(this.changed,this));this.$element.find(".datepicker").on("changed.fu.datepicker",b.proxy(this.changed,this));this.$element.find(".selectlist").on("changed.fu.selectlist",b.proxy(this.changed,this));this.$element.find(".spinbox").on("changed.fu.spinbox",b.proxy(this.changed,this));this.$element.find(".repeat-monthly .radio, .repeat-yearly .radio").on("change.fu.scheduler",b.proxy(this.changed,this))};g.prototype={constructor:g,
destroy:function(){var a;return this.$element.find("input").each(function(){b(this).attr("value",b(this).val())}),this.$element.find(".datepicker .calendar").empty(),a=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".datepicker").datepicker("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".spinbox").spinbox("destroy"),this.$element.find("[type=radio]").radio("destroy"),this.$element.remove(),a},changed:function(a,
c,d){d||a.stopPropagation();this.$element.trigger("changed.fu.scheduler",{data:void 0!==c?c:b(a.currentTarget).data(),originalEvent:a,value:this.getValue()})},disable:function(){this.toggleState("disable")},enable:function(){this.toggleState("enable")},setUtcTime:function(a,b,d){a=a.split("-");b=b.split(":");b=new Date(Date.UTC(a[0],a[1]-1,a[2],b[0],b[1],b[2]?b[2]:0));"Z"===d?b.setUTCHours(b.getUTCHours()+0):(a=RegExp("(.).*?\\d.*?(\\d)",["i"]).exec(d),null!==a&&(d=a[2],a="+"===a[1]?1:-1,b.setUTCHours(b.getUTCHours()+
a*parseInt(d,10))));d=b.getTimezoneOffset();return b.setMinutes(d),b},endSelectChanged:function(a,b){var d,e;b?e=b.value:(d=this.$endSelect.selectlist("selectedItem"),e=d.value);this.$endAfter.parent().addClass("hide");this.$endAfter.parent().attr("aria-hidden","true");this.$endDate.parent().addClass("hide");this.$endDate.parent().attr("aria-hidden","true");"after"===e?(this.$endAfter.parent().removeClass("hide"),this.$endAfter.parent().attr("aria-hidden","false")):"date"===e&&(this.$endDate.parent().removeClass("hide"),
this.$endDate.parent().attr("aria-hidden","false"))},getValue:function(){var a,c=this.$repeatIntervalSpinbox.spinbox("value"),d="",e=this.$repeatIntervalSelect.selectlist("selectedItem").value;this.$startTime.combobox("selectedItem").value?(a=this.$startTime.combobox("selectedItem").value,a=a.toLowerCase()):a=this.$startTime.combobox("selectedItem").text.toLowerCase();var g,f=this.$timeZone.selectlist("selectedItem");g=function(a,b){var c,d="";return d+=a.getFullYear(),d+=b,c=a.getMonth()+1,d+=10>
c?"0"+c:c,d+=b,c=a.getDate(),d+(10>c?"0"+c:c)};var k,t,m,l,r,q,p,x;p=""+g(this.$startDate.datepicker("getDate"),"-");p+="T";m=0<=a.search("am");l=0<=a.search("pm");a=b.trim(a.replace(/am/g,"").replace(/pm/g,"")).split(":");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10);m&&11<a[0]?a[0]=0:l&&12>a[0]&&(a[0]+=12);p+=10>a[0]?"0"+a[0]:a[0];p=p+":"+(10>a[1]?"0"+a[1]:a[1]);p+="+00:00"===f.offset?"Z":f.offset;"none"===e?d="FREQ=DAILY;INTERVAL=1;COUNT=1;":"hourly"===e?(d="FREQ=HOURLY;",d+="INTERVAL="+c+";"):
"daily"===e?(d+="FREQ=DAILY;",d+="INTERVAL="+c+";"):"weekdays"===e?(d+="FREQ=DAILY;",d+="BYDAY=MO,TU,WE,TH,FR;",d+="INTERVAL=1;"):"weekly"===e?(t=[],this.$element.find(".repeat-days-of-the-week .btn-group input:checked").each(function(){t.push(b(this).data().value)}),d+="FREQ=WEEKLY;",d+="BYDAY="+t.join(",")+";",d+="INTERVAL="+c+";"):"monthly"===e?(d+="FREQ=MONTHLY;",d+="INTERVAL="+c+";",x=this.$element.find("input[name=repeat-monthly]:checked").val(),"bymonthday"===x?(k=parseInt(this.$element.find(".repeat-monthly-date .selectlist").selectlist("selectedItem").text,
10),d+="BYMONTHDAY="+k+";"):"bysetpos"===x&&(t=this.$element.find(".month-days").selectlist("selectedItem").value,q=this.$element.find(".month-day-pos").selectlist("selectedItem").value,d+="BYDAY="+t+";",d+="BYSETPOS="+q+";")):"yearly"===e&&(d+="FREQ=YEARLY;",x=this.$element.find("input[name=repeat-yearly]:checked").val(),"bymonthday"===x?(r=this.$element.find(".repeat-yearly-date .year-month").selectlist("selectedItem").value,k=this.$element.find(".year-month-day").selectlist("selectedItem").text,
d+="BYMONTH="+r+";",d+="BYMONTHDAY="+k+";"):"bysetpos"===x&&(t=this.$element.find(".year-month-days").selectlist("selectedItem").value,q=this.$element.find(".year-month-day-pos").selectlist("selectedItem").value,r=this.$element.find(".repeat-yearly-day .year-month").selectlist("selectedItem").value,d+="BYDAY="+t+";",d+="BYSETPOS="+q+";",d+="BYMONTH="+r+";"));a=this.$endSelect.selectlist("selectedItem").value;c="";"none"!==e&&("after"===a?c="COUNT="+this.$endAfter.spinbox("value")+";":"date"===a&&
(c="UNTIL="+g(this.$endDate.datepicker("getDate"),"")+";"));return{startDateTime:p,timeZone:{name:f.name,offset:f.offset},recurrencePattern:d+c}},repeatIntervalSelectChanged:function(a,b){var d,e,g;switch(b?(e=b.value,g=b.text):(d=this.$repeatIntervalSelect.selectlist("selectedItem"),e=d.value,g=d.text),this.$repeatIntervalTxt.text(g),e.toLowerCase()){case "hourly":case "daily":case "weekly":case "monthly":this.$repeatIntervalPanel.removeClass("hide");this.$repeatIntervalPanel.attr("aria-hidden",
"false");break;default:this.$repeatIntervalPanel.addClass("hide"),this.$repeatIntervalPanel.attr("aria-hidden","true")}this.$recurrencePanels.addClass("hide");this.$recurrencePanels.attr("aria-hidden","true");this.$element.find(".repeat-"+e).removeClass("hide");this.$element.find(".repeat-"+e).attr("aria-hidden","false");"none"===e?(this.$end.addClass("hide"),this.$end.attr("aria-hidden","true")):(this.$end.removeClass("hide"),this.$end.attr("aria-hidden","false"))},setValue:function(a){var c,d,e,
g,f,k,m,u;a.startDateTime?(f=a.startDateTime.split("T"),k=f[0],f[1]?(m=f[1],f[1]=f[1].split(":"),c=parseInt(f[1][0],10),e=f[1][1]?parseInt(f[1][1].split("+")[0].split("-")[0].split("Z")[0],10):0,g=12>c?"AM":"PM",0===c?c=12:12<c&&(c-=12),e=10>e?"0"+e:e,m=c+":"+e,f=c+":"+e+" "+g,this.$startTime.find("input").val(f),this.$startTime.combobox("selectByText",f)):m="00:00"):(m="00:00",k=this.$startDate.datepicker("getDate"),k=k.getFullYear()+"-"+k.getMonth()+"-"+k.getDate());if(d="li[data",a.timeZone?(d+=
"string"==typeof a.timeZone?'-name="'+a.timeZone:a.timeZone.name?'-name="'+a.timeZone.name:'-offset="'+a.timeZone.offset,d+='"]',u=a.timeZone.offset,this.$timeZone.selectlist("selectBySelector",d)):a.startDateTime?(f=a.startDateTime.split("T")[1],f=f?-1<f.search(/\+/)?"+"+b.trim(f.split("+")[1]):-1<f.search(/\-/)?"-"+b.trim(f.split("-")[1]):"+00:00":"+00:00",u="+00:00"===f?"Z":f,d+='-offset="'+f+'"]',this.$timeZone.selectlist("selectBySelector",d)):u="Z",a.recurrencePattern){c={};f=a.recurrencePattern.toUpperCase().split(";");
a=0;for(e=f.length;e>a;a++)""!==f[a]&&(d=f[a].split("="),c[d[0]]=d[1]);if("DAILY"===c.FREQ)d="MO,TU,WE,TH,FR"===c.BYDAY?"weekdays":"1"===c.INTERVAL&&"1"===c.COUNT?"none":"daily";else if("HOURLY"===c.FREQ)d="hourly";else if("WEEKLY"===c.FREQ){if(c.BYDAY)for(d=this.$element.find(".repeat-days-of-the-week .btn-group"),d.find("label").removeClass("active"),f=c.BYDAY.split(","),a=0,e=f.length;e>a;a++)d.find('input[data-value="'+f[a]+'"]').prop("checked",!0).parent().addClass("active");d="weekly"}else"MONTHLY"===
c.FREQ?(this.$element.find(".repeat-monthly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-monthly label.radio-custom").removeClass("checked"),c.BYMONTHDAY?(f=this.$element.find(".repeat-monthly-date"),f.find("input").addClass("checked").prop("checked",!0),f.find("label.radio-custom").addClass("checked"),f.find(".selectlist").selectlist("selectByValue",c.BYMONTHDAY)):c.BYDAY&&(f=this.$element.find(".repeat-monthly-day"),f.find("input").addClass("checked").prop("checked",
!0),f.find("label.radio-custom").addClass("checked"),c.BYSETPOS&&f.find(".month-day-pos").selectlist("selectByValue",c.BYSETPOS),f.find(".month-days").selectlist("selectByValue",c.BYDAY)),d="monthly"):"YEARLY"===c.FREQ?(this.$element.find(".repeat-yearly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-yearly label.radio-custom").removeClass("checked"),c.BYMONTHDAY?(f=this.$element.find(".repeat-yearly-date"),f.find("input").addClass("checked").prop("checked",!0),f.find("label.radio-custom").addClass("checked"),
c.BYMONTH&&f.find(".year-month").selectlist("selectByValue",c.BYMONTH),f.find(".year-month-day").selectlist("selectByValue",c.BYMONTHDAY)):c.BYSETPOS&&(f=this.$element.find(".repeat-yearly-day"),f.find("input").addClass("checked").prop("checked",!0),f.find("label.radio-custom").addClass("checked"),f.find(".year-month-day-pos").selectlist("selectByValue",c.BYSETPOS),c.BYDAY&&f.find(".year-month-days").selectlist("selectByValue",c.BYDAY),c.BYMONTH&&f.find(".year-month").selectlist("selectByValue",c.BYMONTH)),
d="yearly"):d="none";c.COUNT?(this.$endAfter.spinbox("value",parseInt(c.COUNT,10)),this.$endSelect.selectlist("selectByValue","after")):c.UNTIL&&(f=c.UNTIL,8===f.length&&(f=f.split(""),f.splice(4,0,"-"),f.splice(7,0,"-"),f=f.join("")),k=this.$timeZone.selectlist("selectedItem"),a="+00:00"===k.offset?"Z":k.offset,k=f,f=this.setUtcTime(k,m,a),this.$endDate.datepicker("setDate",f),this.$endSelect.selectlist("selectByValue","date"));this.endSelectChanged();c.INTERVAL&&this.$repeatIntervalSpinbox.spinbox("value",
parseInt(c.INTERVAL,10));this.$repeatIntervalSelect.selectlist("selectByValue",d);this.repeatIntervalSelectChanged()}d=this.setUtcTime(k,m,u);this.$startDate.datepicker("setDate",d)},toggleState:function(a){this.$element.find(".combobox").combobox(a);this.$element.find(".datepicker").datepicker(a);this.$element.find(".selectlist").selectlist(a);this.$element.find(".spinbox").spinbox(a);this.$element.find("[type=radio]").radio(a);a="disable"===a?"addClass":"removeClass";this.$element.find(".repeat-days-of-the-week .btn-group")[a]("disabled")},
value:function(a){return a?this.setValue(a):this.getValue()}};b.fn.scheduler=function(a){var c,d=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=b(this),f=e.data("fu.scheduler"),k="object"==typeof a&&a;f||e.data("fu.scheduler",f=new g(this,k));"string"==typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.scheduler.defaults={};b.fn.scheduler.Constructor=g;b.fn.scheduler.noConflict=function(){return b.fn.scheduler=k,this};b(document).on("mousedown.fu.scheduler.data-api",
"[data-initialize=scheduler]",function(a){a=b(a.target).closest(".scheduler");a.data("fu.scheduler")||a.scheduler(a.data())});b(function(){b("[data-initialize=scheduler]").each(function(){var a=b(this);a.data("scheduler")||a.scheduler(a.data())})})})(m)});