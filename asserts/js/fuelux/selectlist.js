(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){var e=b.fn.selectlist,f=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.selectlist.defaults,c);this.$button=this.$element.find(".btn.dropdown-toggle");this.$hiddenField=this.$element.find(".hidden-field");this.$label=this.$element.find(".selected-label");this.$dropdownMenu=this.$element.find(".dropdown-menu");this.$element.on("click.fu.selectlist",".dropdown-menu a",b.proxy(this.itemClicked,
this));this.setDefaultSelection();"auto"!==c.resize&&"auto"!==this.$element.attr("data-resize")||this.resize()};f.prototype={constructor:f,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},doSelect:function(a){this.$selectedItem=a;this.$hiddenField.val(this.$selectedItem.attr("data-value"));this.$label.html(b(this.$selectedItem.children()[0]).html());this.$element.find("li").each(function(){a.is(b(this))?b(this).attr("data-selected",!0):b(this).removeData("selected").removeAttr("data-selected")})},
itemClicked:function(a){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem);a.preventDefault();b(a.target).parent().is(this.$selectedItem)||this.itemChanged(a);this.$element.find(".dropdown-toggle").focus()},itemChanged:function(a){this.doSelect(b(a.target).closest("li"));a=this.selectedItem();this.$element.trigger("changed.fu.selectlist",a)},resize:function(){var a=0,c=0,d=b("<div/>").addClass("selectlist-sizer");Boolean(b(document).find("html").hasClass("fuelux"))?b(document.body).append(d):
b(".fuelux:first").append(d);d.append(this.$element.clone());this.$element.find("a").each(function(){d.find(".selected-label").text(b(this).text());c=d.find(".selectlist").outerWidth();c+=d.find(".sr-only").outerWidth();c>a&&(a=c)});1>=a||(this.$button.css("width",a),this.$dropdownMenu.css("width",a),d.remove())},selectedItem:function(){var a=this.$selectedItem.text();return b.extend({text:a},this.$selectedItem.data())},selectByText:function(a){var c=b([]);this.$element.find("li").each(function(){if((this.textContent||
this.innerText||b(this).text()||"").toLowerCase()===(a||"").toLowerCase())return c=b(this),!1});this.doSelect(c)},selectByValue:function(a){this.selectBySelector('li[data-value="'+a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+a+")")},selectBySelector:function(a){a=this.$element.find(a);this.doSelect(a)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]").eq(0);0===a.length&&(a=this.$element.find("li").has("a").eq(0));this.doSelect(a)},enable:function(){this.$element.removeClass("disabled");
this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$button.addClass("disabled")}};b.fn.selectlist=function(a){var c=Array.prototype.slice.call(arguments,1),d,e=this.each(function(){var e=b(this),g=e.data("fu.selectlist"),h="object"===typeof a&&a;g||e.data("fu.selectlist",g=new f(this,h));"string"===typeof a&&(d=g[a].apply(g,c))});return void 0===d?e:d};b.fn.selectlist.defaults={};b.fn.selectlist.Constructor=f;b.fn.selectlist.noConflict=function(){b.fn.selectlist=
e;return this};b(document).on("mousedown.fu.selectlist.data-api","[data-initialize=selectlist]",function(a){a=b(a.target).closest(".selectlist");a.data("fu.selectlist")||a.selectlist(a.data())});b(function(){b("[data-initialize=selectlist]").each(function(){var a=b(this);a.data("fu.selectlist")||a.selectlist(a.data())})})});