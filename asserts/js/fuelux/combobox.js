(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){var h=b.fn.combobox,f=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.combobox.defaults,c);this.$dropMenu=this.$element.find(".dropdown-menu");this.$input=this.$element.find("input");this.$button=this.$element.find(".btn");this.$element.on("click.fu.combobox","a",b.proxy(this.itemclicked,this));this.$element.on("change.fu.combobox","input",b.proxy(this.inputchanged,this));this.$element.on("shown.bs.dropdown",
b.proxy(this.menuShown,this));this.setDefaultSelection()};f.prototype={constructor:f,destroy:function(){this.$element.remove();this.$element.find("input").each(function(){b(this).attr("value",b(this).val())});return this.$element[0].outerHTML},doSelect:function(a){"undefined"!==typeof a[0]?(this.$selectedItem=a,this.$input.val(this.$selectedItem.text().trim())):this.$selectedItem=null},menuShown:function(){this.options.autoResizeMenu&&this.resizeMenu()},resizeMenu:function(){var a=this.$element.outerWidth();
this.$dropMenu.outerWidth(a)},selectedItem:function(){var a={};this.$selectedItem?(a=this.$selectedItem.text().trim(),a=b.extend({text:a},this.$selectedItem.data())):a={text:this.$input.val()};return a},selectByText:function(a){var c=b([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||b(this).text()||"").toLowerCase()===(a||"").toLowerCase())return c=b(this),!1});this.doSelect(c)},selectByValue:function(a){this.selectBySelector('li[data-value="'+a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+
a+")")},selectBySelector:function(a){a=this.$element.find(a);this.doSelect(a)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]:first");0<a.length&&(this.selectBySelector("li[data-selected=true]:first"),a.removeData("selected"),a.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$input.attr("disabled",
!0);this.$button.addClass("disabled")},itemclicked:function(a){this.$selectedItem=b(a.target).parent();this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var c=this.selectedItem();this.$element.trigger("changed.fu.combobox",c);a.preventDefault();this.$element.find(".dropdown-toggle").focus()},inputchanged:function(a,c){if(!c||!c.synthetic){var e=b(a.target).val();this.selectByText(e);var d=this.selectedItem();0===d.text.length&&(d={text:e});this.$element.trigger("changed.fu.combobox",
d)}}};b.fn.combobox=function(a){var c=Array.prototype.slice.call(arguments,1),e,d=this.each(function(){var d=b(this),g=d.data("fu.combobox"),h="object"===typeof a&&a;g||d.data("fu.combobox",g=new f(this,h));"string"===typeof a&&(e=g[a].apply(g,c))});return void 0===e?d:e};b.fn.combobox.defaults={autoResizeMenu:!0};b.fn.combobox.Constructor=f;b.fn.combobox.noConflict=function(){b.fn.combobox=h;return this};b(document).on("mousedown.fu.combobox.data-api","[data-initialize=combobox]",function(a){a=b(a.target).closest(".combobox");
a.data("fu.combobox")||a.combobox(a.data())});b(function(){b("[data-initialize=combobox]").each(function(){var a=b(this);a.data("fu.combobox")||a.combobox(a.data())})})});