(function(r){var u,l={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},t={},C=null,L=0,n={},M=0,z={},N=function(){var a,c,b,d,f="ZeroClipboard.swf";if(!document.currentScript||!(d=document.currentScript.src)){var e=document.getElementsByTagName("script");if("readyState"in e[0])for(a=e.length;a--&&("interactive"!==e[a].readyState||!(d=e[a].src)););else if("loading"===document.readyState)d=e[e.length-1].src;else{for(a=
e.length;a--;){b=e[a].src;if(!b){c=null;break}b=b.split("#")[0].split("?")[0];b=b.slice(0,b.lastIndexOf("/")+1);if(null==c)c=b;else if(c!==b){c=null;break}}null!==c&&(d=c)}}d&&(d=d.split("#")[0].split("?")[0],f=d.slice(0,d.lastIndexOf("/")+1)+f);return f}(),O=function(){var a=/\-([a-z])/g,c=function(a,c){return c.toUpperCase()};return function(b){return b.replace(a,c)}}(),F=function(a){a||(a=r.event);var c;this!==r?c=this:a.target?c=a.target:a.srcElement&&(c=a.srcElement);h.activate(c)},D=function(a,
c){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(c)||a.classList.add(c),a;if(c&&"string"===typeof c){var b=(c||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var d=" "+a.className+" ",f=a.className,e=0,g=b.length;e<g;e++)0>d.indexOf(" "+b[e]+" ")&&(f+=" "+b[e]);a.className=f.replace(/^\s+|\s+$/g,"")}else a.className=c}return a},A=function(a,c){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(c)&&a.classList.remove(c),a;if(c&&"string"===
typeof c||void 0===c){var b=(c||"").split(/\s+/);if(1===a.nodeType&&a.className)if(c){for(var d=(" "+a.className+" ").replace(/[\n\t]/g," "),f=0,e=b.length;f<e;f++)d=d.replace(" "+b[f]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},v=function(a,c,b){if("function"===typeof c.indexOf)return c.indexOf(a,b);var d=c.length;for("undefined"===typeof b?b=0:0>b&&(b=d+b);b<d;b++)if(c.hasOwnProperty(b)&&c[b]===a)return b;return-1},G=function(a){if("string"===typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");
return"number"!==typeof a.length?[a]:a},P=function(a,c,b,d){d?r.setTimeout(function(){a.apply(c,b)},0):a.apply(c,b)},H=function(a){var c,b;a&&("number"===typeof a&&0<a?c=a:"string"===typeof a&&(b=parseInt(a,10))&&!isNaN(b)&&0<b&&(c=b));c||("number"===typeof m.zIndex&&0<m.zIndex?c=m.zIndex:"string"===typeof m.zIndex&&(b=parseInt(m.zIndex,10))&&!isNaN(b)&&0<b&&(c=b));return c||0},x=function(){var a,c,b,d,f,e=arguments[0]||{};a=1;for(c=arguments.length;a<c;a++)if(null!=(b=arguments[a]))for(d in b)b.hasOwnProperty(d)&&
(f=b[d],e!==f&&void 0!==f&&(e[d]=f));return e},B=function(a){if(null==a||""===a)return null;a=a.replace(/^\s+|\s+$/g,"");if(""===a)return null;var c=a.indexOf("//");a=-1===c?a:a.slice(c+2);var b=a.indexOf("/");return(a=-1===b?a:-1===c||0===b?null:a.slice(0,b))&&".swf"===a.slice(-4).toLowerCase()?null:a||null},Q=function(){var a=function(a,b){var d,f,e;if(null!=a&&"*"!==b[0]&&("string"===typeof a&&(a=[a]),"object"===typeof a&&"number"===typeof a.length))for(d=0,f=a.length;d<f;d++)if(a.hasOwnProperty(d)&&
(e=B(a[d]))){if("*"===e){b.length=0;b.push("*");break}-1===v(e,b)&&b.push(e)}};return function(c,b){var d=B(b.swfPath);null===d&&(d=c);var f=[];a(b.trustedOrigins,f);a(b.trustedDomains,f);var e=f.length;if(0<e){if(1===e&&"*"===f[0])return"always";if(-1!==v(c,f))return 1===e&&c===d?"sameDomain":"always"}return"never"}}(),I=function(a){if(null==a)return[];if(Object.keys)return Object.keys(a);var c=[],b;for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},J=function(a){return function(c){return a.call(c,
0)}}(r.Array.prototype.slice);(function(){function a(a){a=a.match(/[\d]+/g);a.length=3;return a.join(".")}function c(b){b&&(d=!0,b.version&&(g=a(b.version)),!g&&b.description&&(g=a(b.description)),b.filename&&(b=b.filename,e=!!b&&(b=b.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(b)||"chrome.plugin"===b.slice(-13))))}var b,d=!1,f=!1,e=!1,g="";if(navigator.plugins&&navigator.plugins.length)b=navigator.plugins["Shockwave Flash"],c(b),navigator.plugins["Shockwave Flash 2.0"]&&
(d=!0,g="2.0.0.11");else if(navigator.mimeTypes&&navigator.mimeTypes.length)b=(b=navigator.mimeTypes["application/x-shockwave-flash"])&&b.enabledPlugin,c(b);else if("undefined"!==typeof ActiveXObject){f=!0;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),d=!0,g=a(b.GetVariable("$version"))}catch(h){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),d=!0,g="6.0.21"}catch(m){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),d=!0,g=a(b.GetVariable("$version"))}catch(q){f=!1}}}}l.disabled=
!0!==d;l.outdated=g&&11>parseFloat(g);l.version=g||"0.0.0";l.pluginType=e?"pepper":f?"activex":d?"netscape":"unknown"})();var h=function(a){if(!(this instanceof h))return new h(a);this.id=""+L++;n[this.id]={instance:this,elements:[],handlers:{}};a&&this.clip(a);"boolean"!==typeof l.ready&&(l.ready=!1);if(!h.isFlashUnusable()&&null===l.bridge){var c=this;a=m.flashLoadTimeout;"number"===typeof a&&0<=a&&setTimeout(function(){"boolean"!==typeof l.deactivated&&(l.deactivated=!0);!0===l.deactivated&&h.emit({type:"error",
name:"flash-deactivated",client:c})},a);l.overdue=!1;R()}};h.prototype.setText=function(a){h.setData("text/plain",a);return this};h.prototype.setHtml=function(a){h.setData("text/html",a);return this};h.prototype.setRichText=function(a){h.setData("application/rtf",a);return this};h.prototype.setData=function(){h.setData.apply(h,J(arguments));return this};h.prototype.clearData=function(){h.clearData.apply(h,J(arguments));return this};h.prototype.setSize=function(a,c){E(a,c);return this};h.prototype.destroy=
function(){this.unclip();this.off();delete n[this.id]};h.version="2.0.0-beta.5";var m={swfPath:N,trustedDomains:r.location.host?[r.location.host]:[],cacheBust:!0,forceHandCursor:!1,forceEnhancedClipboard:!1,zIndex:999999999,debug:!1,title:null,autoActivate:!0,flashLoadTimeout:3E4};h.isFlashUnusable=function(){return!!(l.disabled||l.outdated||l.unavailable||l.deactivated)};h.config=function(a){"object"===typeof a&&null!==a&&x(m,a);if("string"===typeof a&&a){if(m.hasOwnProperty(a))return m[a]}else{a=
{};for(var c in m)m.hasOwnProperty(c)&&(a[c]="object"===typeof m[c]&&null!==m[c]?"length"in m[c]?m[c].slice(0):x({},m[c]):m[c]);return a}};h.destroy=function(){h.deactivate();for(var a in n)if(n.hasOwnProperty(a)&&n[a]){var c=n[a].instance;c&&"function"===typeof c.destroy&&c.destroy()}var b=l.bridge;if(b){var d=w(b);d&&("activex"===l.pluginType&&"readyState"in b?(b.style.display="none",function e(){if(4===b.readyState){for(var a in b)"function"===typeof b[a]&&(b[a]=null);b.parentNode.removeChild(b);
d.parentNode&&d.parentNode.removeChild(d)}else setTimeout(e,10)}()):(b.parentNode.removeChild(b),d.parentNode&&d.parentNode.removeChild(d)));l.ready=null;l.bridge=null;l.deactivated=null}h.clearData()};h.activate=function(a){u&&(A(u,m.hoverClass),A(u,m.activeClass));u=a;D(a,m.hoverClass);if(u){var c=u,b=0,d=0,f=0,e=0,g=H(m.zIndex)-1;c.getBoundingClientRect&&(e=c.getBoundingClientRect(),"pageXOffset"in r&&"pageYOffset"in r?(b=r.pageXOffset,d=r.pageYOffset):(b=1,"function"===typeof document.body.getBoundingClientRect&&
(b=document.body.getBoundingClientRect(),b=b.right-b.left,d=document.body.offsetWidth,b=Math.round(b/d*100)/100),d=b,b=Math.round(document.documentElement.scrollLeft/d),d=Math.round(document.documentElement.scrollTop/d)),f=document.documentElement.clientTop||0,b=e.left+b-(document.documentElement.clientLeft||0),d=e.top+d-f,f="width"in e?e.width:e.right-e.left,e="height"in e?e.height:e.bottom-e.top);if(c=w(l.bridge))c.style.top=d+"px",c.style.left=b+"px",c.style.width=f+"px",c.style.height=e+"px",
c.style.zIndex=g+1;E(f,e)}(g=m.title||a.getAttribute("title"))&&(e=w(l.bridge))&&e.setAttribute("title",g);if(!(g=!0===m.forceHandCursor)){a:{r.getComputedStyle?g=r.getComputedStyle(a,null).getPropertyValue("cursor"):(g=O("cursor"),g=a.currentStyle?a.currentStyle[g]:a.style[g]);if(!g||"auto"===g)if(a=a.tagName.toLowerCase(),"a"===a){a="pointer";break a}a=g}g="pointer"===a}!0===l.ready&&l.bridge&&"function"===typeof l.bridge.setHandCursor?l.bridge.setHandCursor(g):l.ready=!1};h.deactivate=function(){var a=
w(l.bridge);a&&(a.removeAttribute("title"),a.style.left="0px",a.style.top="-9999px",E(1,1));u&&(A(u,m.hoverClass),A(u,m.activeClass),u=null)};h.state=function(){for(var a=r.navigator,c=["userAgent","platform","appName"],b={},d=0,f=c.length;d<f;d++)c[d]in a&&(b[c[d]]=a[c[d]]);var a=["bridge"],c={},e;for(e in l)-1===v(e,a)&&(c[e]=l[e]);return{browser:b,flash:c,zeroclipboard:{version:h.version,config:h.config()}}};h.setData=function(a,c){var b;if("object"===typeof a&&a&&"undefined"===typeof c)b=a,h.clearData();
else if("string"===typeof a&&a)b={},b[a]=c;else return;for(var d in b)d&&b.hasOwnProperty(d)&&"string"===typeof b[d]&&b[d]&&(t[d]=b[d])};h.clearData=function(a){if("undefined"===typeof a){if(t)for(var c in t)t.hasOwnProperty(c)&&delete t[c];C=null}else"string"===typeof a&&t.hasOwnProperty(a)&&delete t[a]};var R=function(){var a,c,b=document.getElementById("global-zeroclipboard-html-bridge");if(!b){a=Q(r.location.host,m);var d="never"===a?"none":"all",f,b=m,e,g,k,n="",q=[];b.trustedDomains&&("string"===
typeof b.trustedDomains?f=[b.trustedDomains]:"object"===typeof b.trustedDomains&&"length"in b.trustedDomains&&(f=b.trustedDomains));if(f&&f.length)for(e=0,g=f.length;e<g;e++)if(f.hasOwnProperty(e)&&f[e]&&"string"===typeof f[e]&&(k=B(f[e]))){if("*"===k){q=[k];break}q.push.apply(q,[k,"//"+k,r.location.protocol+"//"+k])}q.length&&(n+="trustedOrigins="+encodeURIComponent(q.join(",")));!0===b.forceEnhancedClipboard&&(n+=(n?"&":"")+"forceEnhancedClipboard=true");f=n;b=m.swfPath;e=null==m||m&&!0===m.cacheBust?
(-1===m.swfPath.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():"";e=b+e;b=document.createElement("div");b.id="global-zeroclipboard-html-bridge";b.className="global-zeroclipboard-container";b.style.position="absolute";b.style.left="0px";b.style.top="-9999px";b.style.width="1px";b.style.height="1px";b.style.zIndex=""+H(m.zIndex);g=document.createElement("div");b.appendChild(g);document.body.appendChild(b);k=document.createElement("div");n="activex"===l.pluginType;k.innerHTML='<object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" '+
(n?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+e+'"')+">"+(n?'<param name="movie" value="'+e+'"/>':"")+'<param name="allowScriptAccess" value="'+a+'"/><param name="allowNetworking" value="'+d+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+f+'"/></object>';a=k.firstChild;a.ZeroClipboard=h;b.replaceChild(a,g)}a||((a=document["global-zeroclipboard-flash-bridge"])&&(c=a.length)&&(a=
a[c-1]),a||(a=b.firstChild));l.bridge=a||null},w=function(a){for(a=a&&a.parentNode;a&&"OBJECT"===a.nodeName&&a.parentNode;)a=a.parentNode;return a||null},E=function(a,c){var b=w(l.bridge);b&&(b.style.width=a+"px",b.style.height=c+"px")};h.emit=function(a){var c,b,d,f,e,g,k,y,q;"string"===typeof a&&a&&(c=a);"object"===typeof a&&a&&"string"===typeof a.type&&a.type&&(c=a.type,b=a);if(c){a=b;if(c||a&&a.type){a=a||{};c=(c||a.type).toLowerCase();x(a,{type:c,target:a.target||u||null,relatedTarget:a.relatedTarget||
null,currentTarget:l&&l.bridge||null});b=S[a.type];"error"===a.type&&a.name&&b&&(b=b[a.name]);b&&(a.message=b);"ready"===a.type&&x(a,{target:null,version:l.version});"error"===a.type&&(a.target=null,/^flash-(outdated|unavailable|deactivated|overdue)$/.test(a.name)&&x(a,{version:l.version,minimumVersion:"11.0.0"}));"copy"===a.type&&(a.clipboardData={setData:h.setData,clearData:h.clearData});if("aftercopy"===a.type&&(b=C,"object"===typeof a&&a&&"object"===typeof b&&b)){c={};for(k in a)if(a.hasOwnProperty(k))if("success"!==
k&&"data"!==k)c[k]=a[k];else{c[k]={};var w=a[k],p;for(p in w)p&&w.hasOwnProperty(p)&&b.hasOwnProperty(p)&&(c[k][b[p]]=w[p])}a=c}a.target&&!a.relatedTarget&&(k=a,p=(p=(p=a.target)&&p.getAttribute&&p.getAttribute("data-clipboard-target"))?document.getElementById(p):null,k.relatedTarget=p)}else a=void 0;k=a;p=k.target||u;switch(k.type){case "error":v(k.name,["flash-disabled","flash-outdated","flash-deactivated","flash-overdue"])&&x(l,{disabled:"flash-disabled"===k.name,outdated:"flash-outdated"===k.name,
unavailable:"flash-unavailable"===k.name,deactivated:"flash-deactivated"===k.name,overdue:"flash-overdue"===k.name,ready:!1});break;case "ready":d=!0===l.deactivated;x(l,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:d,ready:!d});break;case "copy":g=k.relatedTarget;!t["text/html"]&&!t["text/plain"]&&g&&(e=g.value||g.outerHTML||g.innerHTML)&&(d=g.value||g.textContent||g.innerText)?(k.clipboardData.clearData(),k.clipboardData.setData("text/plain",d),e!==d&&k.clipboardData.setData("text/html",
e)):!t["text/plain"]&&k.target&&(d=k.target.getAttribute("data-clipboard-text"))&&(k.clipboardData.clearData(),k.clipboardData.setData("text/plain",d));break;case "aftercopy":h.clearData();if(d=p){a:{try{g=document.activeElement;break a}catch(B){}g=null}d=p!==g}d&&p.focus&&p.focus();break;case "mouseover":D(p,m.hoverClass);break;case "mouseout":!0===m.autoActivate&&h.deactivate();break;case "mousedown":D(p,m.activeClass);break;case "mouseup":A(p,m.activeClass)}if("ready"===a.type&&!0===l.overdue)return h.emit({type:"error",
name:"flash-overdue"});d=!/^(before)?copy$/.test(a.type);if(a.client)K.call(a.client,a,d);else{if(a.target&&a.target!==r&&!0===m.autoActivate){g=a.target;e=[];if(g&&1===g.nodeType&&(f=g.zcClippingId)&&z.hasOwnProperty(f)&&(f=z[f])&&f.length)for(g=0,k=f.length;g<k;g++)(p=n[f[g]].instance)&&p instanceof h&&e.push(p);f=e}else{k=[];p=I(n);f=0;for(e=p.length;f<e;f++)(g=n[p[f]].instance)&&g instanceof h&&k.push(g);f=k}e=0;for(g=f.length;e<g;e++)k=x({},a,{client:f[e]}),K.call(f[e],k,d)}if("copy"===a.type){y=
{};a={};if("object"===typeof t&&t){for(q in t)if(q&&t.hasOwnProperty(q)&&"string"===typeof t[q]&&t[q])switch(q.toLowerCase()){case "text/plain":case "text":case "air:text":case "flash:text":y.text=t[q];a.text=q;break;case "text/html":case "html":case "air:html":case "flash:html":y.html=t[q];a.html=q;break;case "application/rtf":case "text/rtf":case "rtf":case "richtext":case "air:rtf":case "flash:rtf":y.rtf=t[q],a.rtf=q}q={data:y,formatMap:a}}else q=void 0;y=q.data;C=q.formatMap}return y}};var K=
function(a,c){var b=n[this.id]&&n[this.id].handlers[a.type];if(b&&b.length){var d,f,e,g;d=0;for(f=b.length;d<f;d++)e=b[d],g=this,"string"===typeof e&&"function"===typeof r[e]&&(e=r[e]),"object"===typeof e&&e&&"function"===typeof e.handleEvent&&(g=e,e=e.handleEvent),"function"===typeof e&&P(e,g,[a],c)}return this},S={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript",
"flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}};h.prototype.on=function(a,c){var b,d,f,e={},g=n[this.id]&&n[this.id].handlers;if("string"===typeof a&&a)f=a.toLowerCase().split(/\s+/);else if("object"===typeof a&&a&&"undefined"===typeof c)for(b in a)if(a.hasOwnProperty(b)&&"string"===typeof b&&b&&"function"===typeof a[b])this.on(b,a[b]);if(f&&f.length){b=
0;for(d=f.length;b<d;b++)a=f[b].replace(/^on/,""),e[a]=!0,g[a]||(g[a]=[]),g[a].push(c);e.ready&&l.ready&&h.emit({type:"ready",client:this});if(e.error)for(f=["disabled","outdated","unavailable","deactivated","overdue"],b=0,d=f.length;b<d;b++)if(l[f[b]]){h.emit({type:"error",name:"flash-"+f[b],client:this});break}}return this};h.prototype.off=function(a,c){var b,d,f,e,g,h=n[this.id]&&n[this.id].handlers;if(0===arguments.length)e=I(h);else if("string"===typeof a&&a)e=a.split(/\s+/);else if("object"===
typeof a&&a&&"undefined"===typeof c)for(b in a)a.hasOwnProperty(b)&&"string"===typeof b&&b&&"function"===typeof a[b]&&this.off(b,a[b]);if(e&&e.length)for(b=0,d=e.length;b<d;b++)if(a=e[b].toLowerCase().replace(/^on/,""),(g=h[a])&&g.length)if(c)for(f=v(c,g);-1!==f;)g.splice(f,1),f=v(c,g,f);else h[a].length=0;return this};h.prototype.handlers=function(a){var c,b=null,d=n[this.id]&&n[this.id].handlers;if(d){if("string"===typeof a&&a)return d[a]?d[a].slice(0):null;b={};for(c in d)d.hasOwnProperty(c)&&
d[c]&&(b[c]=d[c].slice(0))}return b};h.prototype.clip=function(a){a=G(a);for(var c=0;c<a.length;c++)if(a.hasOwnProperty(c)&&a[c]&&1===a[c].nodeType){if(a[c].zcClippingId)-1===v(this.id,z[a[c].zcClippingId])&&z[a[c].zcClippingId].push(this.id);else if(a[c].zcClippingId="zcClippingId_"+M++,z[a[c].zcClippingId]=[this.id],!0===m.autoActivate){var b=a[c],d=F;b&&1===b.nodeType&&(b.addEventListener?b.addEventListener("mouseover",d,!1):b.attachEvent&&b.attachEvent("onmouseover",d))}b=n[this.id].elements;
-1===v(a[c],b)&&b.push(a[c])}return this};h.prototype.unclip=function(a){var c=n[this.id];if(!c)return this;var c=c.elements,b;a="undefined"===typeof a?c.slice(0):G(a);for(var d=a.length;d--;)if(a.hasOwnProperty(d)&&a[d]&&1===a[d].nodeType){for(b=0;-1!==(b=v(a[d],c,b));)c.splice(b,1);var f=z[a[d].zcClippingId];if(f){for(b=0;-1!==(b=v(this.id,f,b));)f.splice(b,1);0===f.length&&(!0===m.autoActivate&&(b=a[d],f=F,b&&1===b.nodeType&&(b.removeEventListener?b.removeEventListener("mouseover",f,!1):b.detachEvent&&
b.detachEvent("onmouseover",f))),delete a[d].zcClippingId)}}return this};h.prototype.elements=function(){var a=n[this.id];return a&&a.elements?a.elements.slice(0):[]};m.hoverClass="zeroclipboard-is-hover";m.activeClass="zeroclipboard-is-active";"function"===typeof define&&define.amd?define(function(){return h}):"object"===typeof module&&module&&"object"===typeof module.exports&&module.exports?module.exports=h:r.ZeroClipboard=h})(function(){return this}());