var CodeMirror=function(){function r(a,b){function c(C){return 0<=C&&C<u.size}function g(C){for(var a=u;!a.lines;)for(var m=0;;++m){var b=a.children[m],c=b.chunkSize();if(C<c){a=b;break}C-=c}return a.lines[C]}function h(a,v){qa=!0;for(var m=v-a.height,b=a;b;b=b.parent)b.height+=m}function n(a){var v={line:0,ch:0};P(v,{line:u.size-1,ch:g(u.size-1).text.length},e(a),v,v);za=!0}function H(a){var v=w[a.keyCode],m=ca[p.keyMap].auto,b,c;if(null==v||a.altGraphKey)return m&&(p.keyMap=m),null;a.altKey&&(v=
"Alt-"+v);a.ctrlKey&&(v="Ctrl-"+v);a.metaKey&&(v="Cmd-"+v);a.shiftKey&&(b=Q("Shift-"+v,p.extraKeys,p.keyMap))?c=!0:b=Q(v,p.extraKeys,p.keyMap);"string"==typeof b&&(b=Na.propertyIsEnumerable(b)?Na[b]:null);(v=m)&&!(v=b)&&(v=w[a.keyCode],v=!("Ctrl"==v||"Alt"==v||"Shift"==v||"Mod"==v));v&&(p.keyMap=m);if(!b)return!1;c?(m=ma,ma=null,b(R),ma=m):b(R);A(a);return!0}function k(){if(!p.readOnly){if(!na){if(p.onFocus)p.onFocus(R);na=!0;-1==S.className.search(/\bCodeMirror-focused\b/)&&(S.className+=" CodeMirror-focused");
Sa||qb(!0)}fb();Mb()}}function E(){if(na){if(p.onBlur)p.onBlur(R);na=!1;S.className=S.className.replace(" CodeMirror-focused","")}clearInterval(rb);setTimeout(function(){na||(ma=null)},150)}function P(a,v,m,b,c){if(oa){var g=[];u.iter(a.line,v.line+1,function(a){g.push(a.text)});for(oa.addChange(a.line,m.length,g);oa.done.length>p.undoDepth;)oa.done.shift()}ea(a,v,m,b,c)}function W(a,v){var m=a.pop();if(m){var b=[],c=m.start+m.added;u.iter(m.start,c,function(a){b.push(a.text)});v.push({start:m.start,
added:m.old.length,old:b});var h=X({line:m.start+m.old.length-1,ch:sb(b[b.length-1],m.old[m.old.length-1])});ea({line:m.start,ch:0},{line:c-1,ch:g(c-1).text.length},m.old,h,h);za=!0}}function ea(a,v,b,c,lc){function e(a){return a<=Math.min(v.line,v.line+E)?a:a+E}var d=!1,n=Aa.length;p.lineWrapping||u.iter(a.line,v.line,function(a){if(a.text.length==n)return d=!0});if(a.line!=v.line||1<b.length)qa=!0;var H=v.line-a.line,f=g(a.line),k=g(v.line);if(0==a.ch&&0==v.ch&&""==b[b.length-1]){var q=[],f=null;
a.line?(f=g(a.line-1),f.fixMarkEnds(k)):k.fixMarkStarts();for(var w=0,I=b.length-1;w<I;++w)q.push(B.inheritMarks(b[w],f));H&&u.remove(a.line,H,Ta);q.length&&u.insert(a.line,q)}else if(f==k)if(1==b.length)f.replace(a.ch,v.ch,b[0]);else{k=f.split(v.ch,b[b.length-1]);f.replace(a.ch,null,b[0]);f.fixMarkEnds(k);q=[];w=1;for(I=b.length-1;w<I;++w)q.push(B.inheritMarks(b[w],f));q.push(k);u.insert(a.line+1,q)}else if(1==b.length)f.replace(a.ch,null,b[0]),k.replace(null,v.ch,""),f.append(k),u.remove(a.line+
1,H,Ta);else{q=[];f.replace(a.ch,null,b[0]);k.replace(null,v.ch,b[b.length-1]);f.fixMarkEnds(k);w=1;for(I=b.length-1;w<I;++w)q.push(B.inheritMarks(b[w],f));1<H&&u.remove(a.line+1,H-1,Ta);u.insert(a.line+1,q)}if(p.lineWrapping){var t=z.clientWidth/tb()-3;u.iter(a.line,a.line+b.length,function(a){if(!a.hidden){var C=Math.ceil(a.text.length/t)||1;C!=a.height&&h(a,C)}})}else u.iter(a.line,w+b.length,function(a){a=a.text;a.length>n&&(Aa=a,n=a.length,Ba=null,d=!1)}),d&&(n=0,Aa="",Ba=null,u.iter(0,u.size,
function(a){a=a.text;a.length>n&&(n=a.length,Aa=a)}));for(var k=[],E=b.length-H-1,w=0,H=ra.length;w<H;++w)q=ra[w],q<a.line?k.push(q):q>v.line&&k.push(q+E);w=a.line+Math.min(b.length,500);mc(a.line,w);k.push(w);ra=k;ub(100);Z.push({from:a.line,to:v.line+1,diff:E});a={from:a,to:v,text:b};if(Ua){for(b=Ua;b.next;b=b.next);b.next=a}else Ua=a;Va(c,lc,e(l.from.line),e(l.to.line));ha.style.height=u.height*xa()+2*M.offsetTop+"px"}function sa(a,b,m){function c(Ma){if(ia(Ma,b))return Ma;if(!ia(m,Ma))return g;
var h=Ma.line+a.length-(m.line-b.line)-1,e=Ma.ch;Ma.line==m.line&&(e+=a[a.length-1].length-(m.ch-(m.line==b.line?b.ch:0)));return{line:h,ch:e}}b=X(b);m=m?X(m):b;a=e(a);var g;ga(a,b,m,function(a){g=a;return{from:c(l.from),to:c(l.to)}});return g}function Wa(a,b){ga(e(a),l.from,l.to,function(a){return"end"==b?{from:a,to:a}:"start"==b?{from:l.from,to:l.from}:{from:l.from,to:a}})}function ga(a,b,m,c){c=c({line:b.line+a.length-1,ch:1==a.length?a[0].length+b.ch:a[a.length-1].length});P(b,m,a,c.from,c.to)}
function Nb(a,b){var m=a.line,c=b.line;if(m==c)return g(m).text.slice(a.ch,b.ch);var h=[g(m).text.slice(a.ch)];u.iter(m+1,c,function(a){h.push(a.text)});h.push(g(c).text.slice(0,b.ch));return h.join("\n")}function gb(){return Nb(l.from,l.to)}function fb(){vb||wb.set(p.pollInterval,function(){xb();wa();na&&fb();yb()})}function Xa(){function a(){xb();wa()||b?(vb=!1,fb()):(b=!0,wb.set(60,a));yb()}var b=!1;vb=!0;wb.set(20,a)}function wa(){if(Sa||!na||I(K))return!1;var a=K.value;if(a==Ca)return!1;ma=null;
for(var b=0,m=Math.min(Ca.length,a.length);b<m&&Ca[b]==a[b];)++b;b<Ca.length?l.from={line:l.from.line,ch:l.from.ch-(Ca.length-b)}:zb&&t(l.from,l.to)&&(l.to={line:l.to.line,ch:Math.min(g(l.to.line).text.length,l.to.ch+(a.length-b))});Wa(a.slice(b),"end");Ca=a;return!0}function qb(a){t(l.from,l.to)?a&&(Ca=K.value=""):(Ca="",K.value=gb(),K.select())}function Ia(){p.readOnly||K.focus()}function nc(){if(ta.getBoundingClientRect){var a=ta.getBoundingClientRect();if(!Da||a.top!=a.bottom){var b=window.innerHeight||
Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>a.top||a.bottom>b)&&ta.scrollIntoView()}}}function Ob(){var a=Ya(l.inverted?l.from:l.to),b=p.lineWrapping?Math.min(a.x,M.offsetWidth):a.x;return Pb(b,a.y,b,a.yBot)}function Pb(a,b,m,c){var g=M.offsetLeft,h=M.offsetTop,e=xa();b+=h;c+=h;a+=g;m+=g;var d=z.clientHeight,l=z.scrollTop,g=!1,h=!0;b<l?(z.scrollTop=Math.max(0,b-2*e),g=!0):c>l+d&&(z.scrollTop=c+e-d,g=!0);b=z.clientWidth;c=z.scrollLeft;e=p.fixedGutter?fa.clientWidth:
0;a<c+e?(50>a&&(a=0),z.scrollLeft=Math.max(0,a-10-e),g=!0):m>b+c-3&&(z.scrollLeft=m+10-b,g=!0,m>ha.clientWidth&&(h=!1));if(g&&p.onScroll)p.onScroll(R);return h}function Qb(){var a=xa(),b=z.scrollTop-M.offsetTop,m=Math.max(0,Math.floor(b/a)),a=Math.ceil((b+z.clientHeight)/a);return{from:pa(u,m),to:pa(u,a)}}function Za(a,b){if(z.clientWidth){var m=Qb();if(!(!0!==a&&0==a.length&&m.from>=aa&&m.to<=ja)){var c=Math.max(m.from-100,0),m=Math.min(u.size,m.to+100);aa<c&&20>c-aa&&(c=aa);ja>m&&20>ja-m&&(m=Math.min(u.size,
ja));for(var g=!0===a?[]:oc([{from:aa,to:ja,domStart:0}],a),e=0,d=0;d<g.length;++d){var l=g[d];l.from<c&&(l.domStart+=c-l.from,l.from=c);l.to>m&&(l.to=m);l.from>=l.to?g.splice(d--,1):e+=l.to-l.from}if(e!=m-c){g.sort(function(a,C){return a.domStart-C.domStart});var n=xa(),e=fa.style.display;ka.style.display=fa.style.display="none";pc(c,m,g);ka.style.display="";(d=c!=aa||m!=ja||Rb!=z.clientHeight+n)&&(Rb=z.clientHeight+n);aa=c;ja=m;$a=O(u,c);hb.style.top=$a*n+"px";ha.style.height=u.height*n+2*M.offsetTop+
"px";if(ka.childNodes.length!=ja-aa)throw Error("BAD PATCH! "+JSON.stringify(g)+" size="+(ja-aa)+" nodes="+ka.childNodes.length);if(p.lineWrapping){Ba=z.clientWidth;var f=ka.firstChild;u.iter(aa,ja,function(a){if(!a.hidden){var C=Math.round(f.offsetHeight/n)||1;a.height!=C&&(h(a,C),qa=!0)}f=f.nextSibling})}else null==Ba&&(Ba=Ab(Aa)),Ba>z.clientWidth?(M.style.width=Ba+"px",ha.style.width="",ha.style.width=z.scrollWidth+"px"):M.style.width=ha.style.width="";fa.style.display=e;(d||qa)&&Sb();Tb();if(!b&&
p.onUpdate)p.onUpdate(R);return!0}}}else aa=ja=$a=0}function oc(a,b){for(var m=0,c=b.length||0;m<c;++m){for(var g=b[m],h=[],e=g.diff||0,d=0,l=a.length;d<l;++d){var n=a[d];g.to<=n.from&&g.diff?h.push({from:n.from+e,to:n.to+e,domStart:n.domStart}):g.to<=n.from||g.from>=n.to?h.push(n):(g.from>n.from&&h.push({from:n.from,to:g.from,domStart:n.domStart}),g.to<n.to&&h.push({from:g.to+e,to:n.to+e,domStart:n.domStart+(g.to-n.from)}))}a=h}return a}function pc(a,b,m){if(m.length){for(var c=function(a){var C=
a.nextSibling;a.parentNode.removeChild(a);return C},g=0,h=ka.firstChild,e=0;e<m.length;++e){for(var d=m[e];d.domStart>g;)h=c(h),g++;for(var n=0,d=d.to-d.from;n<d;++n)h=h.nextSibling,g++}for(;h;)h=c(h)}else ka.innerHTML="";var f=m.shift(),h=ka.firstChild,n=a,H=l.from.line,k=l.to.line,w=H<a&&k>=a,q=Ja.createElement("div");u.iter(a,b,function(a){var C=null,b=null;w?(C=0,k==n&&(w=!1,b=l.to.ch)):H==n&&(k==n?(C=l.from.ch,b=l.to.ch):(w=!0,C=l.from.ch));f&&f.to==n&&(f=m.shift());!f||f.from>n?(q.innerHTML=
a.hidden?"<pre></pre>":a.getHTML(C,b,!0,Bb),ka.insertBefore(q.firstChild,h)):h=h.nextSibling;++n})}function Sb(){if(p.gutter||p.lineNumbers){var a=hb.offsetHeight,b=z.clientHeight;fa.style.height=(2>a-b?b:a)+"px";var m=[],c=aa;u.iter(aa,Math.max(ja,aa+1),function(a){if(a.hidden)m.push("<pre></pre>");else{var C=a.gutterMarker,b=p.lineNumbers?c+p.firstLineNumber:null;C&&C.text?b=C.text.replace("%N%",null!=b?b:""):null==b&&(b="\u00a0");m.push(C&&C.style?'<pre class="'+C.style+'">':"<pre>",b);for(C=1;C<
a.height;++C)m.push("<br/>&#160;");m.push("</pre>")}++c});fa.style.display="none";ab.innerHTML=m.join("");for(var a=String(u.size).length,b=ab.firstChild,g=b.textContent||b.innerText||b.nodeValue||"",h="";g.length+h.length<a;)h+="\u00a0";h&&b.insertBefore(Ja.createTextNode(h),b.firstChild);fa.style.display="";M.style.marginLeft=fa.offsetWidth+"px";qa=!1}}function Tb(){var a=l.inverted?l.from:l.to;xa();var a=Ya(a,!0),b=L(S),m=L(ka);bb.style.top=a.y+m.top-b.top+"px";bb.style.left=a.x+m.left-b.left+
"px";t(l.from,l.to)?(ta.style.top=a.y+"px",ta.style.left=(p.lineWrapping?Math.min(a.x,M.offsetWidth):a.x)+"px",ta.style.display=""):ta.style.display="none"}function Ub(a){ma=a?ma||(l.inverted?l.to:l.from):null}function Ea(a,b){var m=ma&&X(ma);m&&(ia(m,a)?a=m:ia(b,m)&&(b=m));Va(a,b);ib=!0}function Va(a,b,m,c){jb=null;null==m&&(m=l.from.line,c=l.to.line);if(!t(l.from,a)||!t(l.to,b)){if(ia(b,a)){var g=b;b=a;a=g}a.line!=m&&(a=kb(a,m,l.from.ch));b.line!=c&&(b=kb(b,c,l.to.ch));t(a,b)?l.inverted=!1:t(a,
l.to)?l.inverted=!1:t(b,l.from)&&(l.inverted=!0);t(a,b)?t(l.from,l.to)||Z.push({from:m,to:c+1}):t(l.from,l.to)?Z.push({from:a.line,to:b.line+1}):(t(a,l.from)||(a.line<m?Z.push({from:a.line,to:Math.min(b.line,m)+1}):Z.push({from:m,to:Math.min(c,a.line)+1})),t(b,l.to)||(b.line<c?Z.push({from:Math.max(m,a.line),to:c+1}):Z.push({from:Math.max(a.line,c),to:b.line+1})));l.from=a;l.to=b;Fa=!0}}function kb(a,b,m){function c(b){for(var v=a.line+b,h=1==b?u.size:-1;v!=h;){var e=g(v);if(!e.hidden){b=a.ch;if(b>
m||b>e.text.length)b=e.text.length;return{line:v,ch:b}}v+=b}}return g(a.line).hidden?a.line>=b?c(1)||c(-1):c(-1)||c(1):a}function Ga(a,b,c){a=X({line:a,ch:b||0});(c?Ea:Va)(a,a)}function lb(a){return Math.max(0,Math.min(a,u.size-1))}function X(a){if(0>a.line)return{line:0,ch:0};if(a.line>=u.size)return{line:u.size-1,ch:g(u.size-1).text.length};var b=a.ch,c=g(a.line).text.length;return null==b||b>c?{line:a.line,ch:c}:0>b?{line:a.line,ch:0}:a}function Cb(a,b){function c(b){if(d==(0>a?0:n.text.length)){if(b=
!b)a:{b=e+a;for(var m=0>a?-1:u.size;b!=m;b+=a){var v=g(b);if(!v.hidden){e=b;n=v;b=!0;break a}}b=void 0}if(b)d=0>a?n.text.length:0;else return!1}else d+=a;return!0}var h=l.inverted?l.from:l.to,e=h.line,d=h.ch,n=g(e);if("char"==b)c();else if("column"==b)c(!0);else if("word"==b)for(h=!1;!(0>a)||c();){if(Oa(n.text.charAt(d)))h=!0;else if(h){0>a&&(a=1,c());break}if(0<a&&!c())break}return{line:e,ch:d}}function Vb(a){for(var b=g(a.line).text,c=a.ch,h=a.ch;0<c&&Oa(b.charAt(c-1));)--c;for(;h<b.length&&Oa(b.charAt(h));)++h;
Ea({line:a.line,ch:c},{line:a.line,ch:h})}function qc(a){Ea({line:a,ch:0},{line:a,ch:g(a).text.length})}function mb(a,b){b||(b="add");if("smart"==b)if(U.indent)var c=nb(a);else b="prev";var h=g(a),e=h.indentation(p.tabSize),d=h.text.match(/^\s*/)[0],n;"prev"==b?n=a?g(a-1).indentation(p.tabSize):0:"smart"==b?n=U.indent(c,h.text.slice(d.length),h.text):"add"==b?n=e+p.indentUnit:"subtract"==b&&(n=e-p.indentUnit);n=Math.max(0,n);if(n-e){e="";c=0;if(p.indentWithTabs)for(h=Math.floor(n/p.tabSize);h;--h)c+=
p.tabSize,e+="\t";for(;c<n;)++c,e+=" "}else{if(l.from.line!=a&&l.to.line!=a)return;e=d}sa(e,{line:a,ch:0},{line:a,ch:d.length})}function Wb(){U=r.getMode(p,p.mode);u.iter(0,u.size,function(a){a.stateAfter=null});ra=[0];ub()}function rc(){var a=p.gutter||p.lineNumbers;fa.style.display=a?"":"none";a?qa=!0:ka.parentNode.style.marginLeft=0}function sc(a,b){if(p.lineWrapping){S.className+=" CodeMirror-wrap";var c=z.clientWidth/tb()-3;u.iter(0,u.size,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/
c)||1;1!=b&&h(a,b)}});M.style.width=ha.style.width=""}else S.className=S.className.replace(" CodeMirror-wrap",""),Ba=null,Aa="",u.iter(0,u.size,function(a){1==a.height||a.hidden||h(a,1);a.text.length>Aa.length&&(Aa=a.text)});Z.push({from:0,to:u.size})}function Xb(){for(var a='<span class="cm-tab">',b=0;b<p.tabSize;++b)a+=" ";return a+"</span>"}function tc(){Bb=Xb();Za(!0)}function Yb(){z.className=z.className.replace(/\s*cm-s-\w+/g,"")+p.theme.replace(/(^|\s)\s*/g," cm-s-")}function Db(){this.set=
[]}function Eb(a,b,c){function h(a,b,C,c){g(a).addMark(new da(b,C,c,e.set))}a=X(a);b=X(b);var e=new Db;if(a.line==b.line)h(a.line,a.ch,b.ch,c);else{h(a.line,a.ch,null,c);for(var d=a.line+1,n=b.line;d<n;++d)h(d,null,null,c);h(b.line,null,b.ch,c)}Z.push({from:a.line,to:b.line+1});return e}function Zb(a,b){var c=a,h=a;"number"==typeof a?h=g(lb(a)):c=T(a);if(null!=c&&b(h,c))Z.push({from:c,to:c+1});else return null;return h}function $b(a,b){return Zb(a,function(a,c){if(a.hidden!=b)return a.hidden=b,h(a,
b?0:1),!b||l.from.line!=c&&l.to.line!=c||Va(kb(l.from,l.from.line,l.from.ch),kb(l.to,l.to.line,l.to.ch)),qa=!0})}function Ab(a){Ha.innerHTML="<pre><span>x</span></pre>";Ha.firstChild.firstChild.firstChild.nodeValue=a;return Ha.firstChild.firstChild.offsetWidth||10}function ac(a,b){var c="";p.lineWrapping&&(c=a.text.indexOf(" ",b+2),c=la(a.text.slice(b+1,0>c?a.text.length:c+(Da?5:0))));Ha.innerHTML="<pre>"+a.getHTML(null,null,!1,Bb,b)+'<span id="CodeMirror-temp-'+bc+'">'+la(a.text.charAt(b)||" ")+
"</span>"+c+"</pre>";var c=document.getElementById("CodeMirror-temp-"+bc),g=c.offsetTop,h=c.offsetLeft;Da&&b&&0==g&&0==h&&(g=document.createElement("span"),g.innerHTML="x",c.parentNode.insertBefore(g,c.nextSibling),g=g.offsetTop);return{top:g,left:h}}function Ya(a,b){var c,h=xa(),e=h*(O(u,a.line)-(b?$a:0));if(0==a.ch)c=0;else{var d=ac(g(a.line),a.ch);c=d.left;p.lineWrapping&&(e+=Math.max(0,d.top))}return{x:c,y:e,yBot:e+h}}function Fb(a,b){function c(a){a=ac(l,a);if(H){var b=Math.round(a.top/h);return Math.max(0,
a.left+(b-k)*z.clientWidth)}return a.left}0>b&&(b=0);var h=xa(),e=tb(),d=$a+Math.floor(b/h),n=pa(u,d);if(n>=u.size)return{line:u.size-1,ch:g(u.size-1).text.length};var l=g(n),f=l.text,H=p.lineWrapping,k=H?d-O(u,n):0;if(0>=a&&0==k)return{line:n,ch:0};for(var w=d=0,f=f.length,q=Math.min(f,Math.ceil((a+k*z.clientWidth*.9)/e));;){var I=c(q);if(I<=a&&q<f)q=Math.min(f,Math.ceil(1.2*q));else{e=I;f=q;break}}if(a>e)return{line:n,ch:f};q=Math.floor(.8*f);I=c(q);I<a&&(d=q,w=I);for(;;){if(1>=f-d)return{line:n,
ch:e-a>a-w?d:f};q=Math.ceil((d+f)/2);I=c(q);I>a?(f=q,e=I):(d=q,w=I)}}function cc(a){a=Ya(a,!0);var b=L(M);return{x:b.left+a.x,y:b.top+a.y,yBot:b.top+a.yBot}}function xa(){if(null==Ka){Ka="<pre>";for(var a=0;49>a;++a)Ka+="x<br/>";Ka+="x</pre>"}a=ka.clientHeight;if(a==dc)return Gb;dc=a;Ha.innerHTML=Ka;Gb=Ha.firstChild.offsetHeight/50||1;Ha.innerHTML="";return Gb}function tb(){if(z.clientWidth==ec)return fc;ec=z.clientWidth;return fc=Ab("x")}function Pa(a,b){var c=L(z,!0),g,h;try{g=a.clientX,h=a.clientY}catch(e){return null}if(!b&&
(g-c.left>z.clientWidth||h-c.top>z.clientHeight))return null;c=L(M,!0);return Fb(g-c.left,h-c.top)}function gc(a){function b(){var a=e(K.value).join("\n");a!=h&&y(Wa)(a,"end");bb.style.position="relative";K.style.cssText=g;Sa=!1;qb(!0);fb()}var c=Pa(a);if(c&&!window.opera){(t(l.from,l.to)||ia(c,l.from)||!ia(c,l.to))&&y(Ga)(c.line,c.ch);var g=K.style.cssText;bb.style.position="absolute";K.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
Sa=!0;var h=K.value=gb();Ia();K.select();if(Qa){N(a);var d=x(window,"mouseup",function(){d();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function Mb(){clearInterval(rb);var a=!0;ta.style.visibility="";rb=setInterval(function(){ta.style.visibility=(a=!a)?"":"hidden"},650)}function hc(a){function b(a,c,C){if(a.text){var g=a.styles;a=n?0:a.text.length-1;for(var h,e=n?0:g.length-2,m=n?g.length:-2;e!=m;e+=2*f){var d=g[e];if(null!=g[e+1]&&g[e+1]!=w)a+=f*d.length;else for(var v=n?0:d.length-1,l=n?d.length:
-1;v!=l;v+=f,a+=f)if(a>=c&&a<C&&I.test(h=d.charAt(v))){var H=Hb[h];if(">"==H.charAt(1)==n)p.push(h);else{if(p.pop()!=H.charAt(0))return{pos:a,match:!1};if(!p.length)return{pos:a,match:!0}}}}}}var c=l.inverted?l.from:l.to,h=g(c.line),e=c.ch-1,d=0<=e&&Hb[h.text.charAt(e)]||Hb[h.text.charAt(++e)];if(d){d.charAt(0);for(var n=">"==d.charAt(1),f=n?1:-1,H=h.styles,q=e+1,d=0,k=H.length;d<k;d+=2)if(0>=(q-=H[d].length)){var w=H[d+1];break}for(var p=[h.text.charAt(e)],I=/[(){}[\]]/,d=c.line,k=n?Math.min(d+100,
u.size):Math.max(-1,d-100);d!=k;d+=f){var h=g(d),E=d==c.line;if(E=b(h,E&&n?e+1:0,E&&!n?e:h.text.length))break}E||(E={pos:null,match:!1});var w=E.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",t=Eb({line:c.line,ch:e},{line:c.line,ch:e+1},w),L=null!=E.pos&&Eb({line:d,ch:E.pos},{line:d,ch:E.pos+1},w),c=y(function(){t.clear();L&&L.clear()});a?setTimeout(c,800):ob=c}}function ic(a){var b,c,h=a;for(a-=40;h>a;--h){if(0==h)return 0;var e=g(h-1);if(e.stateAfter)return h;e=e.indentation(p.tabSize);
if(null==c||b>e)c=h-1,b=e}return c}function nb(a){var b=ic(a),c=b&&g(b-1).stateAfter,c=c?F(U,c):D(U);u.iter(b,a,function(a){a.highlight(U,c,p.tabSize);a.stateAfter=F(U,c)});b<a&&Z.push({from:b,to:a});a<u.size&&!g(a).stateAfter&&ra.push(a);return c}function mc(a,b){var c=nb(a);u.iter(a,b,function(a){a.highlight(U,c,p.tabSize);a.stateAfter=F(U,c)})}function uc(){for(var a=+new Date+p.workTime,b=ra.length;ra.length;){var c=g(aa).stateAfter?ra.pop():aa;if(!(c>=u.size)){var h=ic(c),e=h&&g(h-1).stateAfter,
e=e?F(U,e):D(U),d=0,n=U.compareStates,l=!1,f=h,H=!1;u.iter(f,u.size,function(b){var g=b.stateAfter;if(+new Date>a)return ra.push(f),ub(p.workDelay),l&&Z.push({from:c,to:f+1}),H=!0;var h=b.highlight(U,e,p.tabSize);h&&(l=!0);b.stateAfter=F(U,e);if(n){if(g&&n(g,e))return!0}else if(!1!==h||!g)d=0;else if(3<++d&&(!U.indent||U.indent(g,"")==U.indent(e,"")))return!0;++f});if(H)return;l&&Z.push({from:c,to:f+1})}}if(b&&p.onHighlightComplete)p.onHighlightComplete(R)}function ub(a){ra.length&&vc.set(a,y(uc))}
function xb(){za=ib=Ua=null;Z=[];Fa=!1;Ta=[]}function yb(){var a=!1,b;Fa&&(a=!Ob());Z.length?b=Za(Z,!0):(Fa&&Tb(),qa&&Sb());a&&Ob();Fa&&(nc(),Mb());na&&!Sa&&(!0===za||!1!==za&&Fa)&&qb(ib);Fa&&p.matchBrackets&&setTimeout(y(function(){ob&&(ob(),ob=null);t(l.from,l.to)&&hc(!1)}),20);var c=Ua,a=Ta;if(Fa&&p.onCursorActivity)p.onCursorActivity(R);if(c&&p.onChange&&R)p.onChange(R,c);for(c=0;c<a.length;++c)a[c](R);if(b&&p.onUpdate)p.onUpdate(R)}function y(a){return function(){jc++||xb();try{var b=a.apply(this,
arguments)}finally{--jc||yb()}return b}}var p={},Ib=r.defaults,cb;for(cb in Ib)Ib.hasOwnProperty(cb)&&(p[cb]=(b&&b.hasOwnProperty(cb)?b:Ib)[cb]);var Ja=p.document,S=Ja.createElement("div");S.className="CodeMirror"+(p.lineWrapping?" CodeMirror-wrap":"");S.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(S):a(S);var bb=S.firstChild,K=bb.firstChild,z=S.lastChild,ha=z.firstChild,hb=ha.firstChild,fa=hb.firstChild,ab=fa.firstChild,M=fa.nextSibling.firstChild,Ha=M.firstChild,ta=Ha.nextSibling,ka=ta.nextSibling;Yb();/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)&&(K.style.width="0px");G||(M.draggable=!0);null!=p.tabindex&&(K.tabIndex=p.tabindex);p.gutter||p.lineNumbers||(fa.style.display="none");try{Ab("x")}catch(Jb){throw Jb.message.match(/runtime/i)&&
(Jb=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),Jb;}var wb=new q,vc=new q,rb,U,u=new f([new d([new B("")])]),ra,na;Wb();var l={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},ma,pb,db,Kb,zb=!1,za,ib,Z,Ua,Fa,Sa,qa,Ta,$a=0,aa=0,ja=0,Rb=0,ob,Aa="",Ba,Bb=Xb();y(function(){n(p.value||"");za=!1})();var oa=new J;x(z,"mousedown",y(function(a){function b(a){var c=Pa(a,!0);if(c&&!t(c,h)){na||k();h=c;Ea(g,c);za=!1;var C=Qb();if(c.line>=C.to||c.line<C.from)e=
setTimeout(y(function(){b(a)}),150)}}Ub(a.shiftKey);for(var c=a.target||a.srcElement;c!=S;c=c.parentNode)if(c.parentNode==ha&&c!=hb)return;for(c=a.target||a.srcElement;c!=S;c=c.parentNode)if(c.parentNode==ab){if(p.onGutterClick)p.onGutterClick(R,ua(ab.childNodes,c)+aa,a);return A(a)}var g=Pa(a);switch(V(a)){case 3:Qa&&!La&&gc(a);return;case 2:g&&Ga(g.line,g.ch,!0);return}if(g){na||k();c=+new Date;if(db&&db.time>c-400&&t(db.pos,g))return A(a),setTimeout(Ia,20),qc(g.line);if(pb&&pb.time>c-400&&t(pb.pos,
g))return db={time:c,pos:g},A(a),Vb(g);pb={time:c,pos:g};var h=g,e;if(!ya||t(l.from,l.to)||ia(g,l.from)||ia(l.to,g)){A(a);Ga(g.line,g.ch,!0);var d=x(Ja,"mousemove",y(function(a){clearTimeout(e);A(a);b(a)}),!0),n=x(Ja,"mouseup",y(function(a){clearTimeout(e);var b=Pa(a);b&&Ea(g,b);A(a);Ia();za=!0;d();n()}),!0)}else{G&&(M.draggable=!0);var n=x(Ja,"mouseup",y(function(b){G&&(M.draggable=!1);Kb=!1;n();10>Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)&&(A(b),Ga(g.line,g.ch,!0),Ia())}),!0);
Kb=!0}}else(a.target||a.srcElement)==z&&A(a)}));x(z,"dblclick",y(function(a){for(var b=a.target||a.srcElement;b!=S;b=b.parentNode)if(b.parentNode==ab)return A(a);if(b=Pa(a))db={time:+new Date,pos:b},A(a),Vb(b)}));x(M,"dragstart",function(a){var b=gb();la(b);a.dataTransfer.setDragImage(va,0,0);a.dataTransfer.setData("Text",b)});x(M,"selectstart",A);Qa||x(z,"contextmenu",gc);x(z,"scroll",function(){Za([]);p.fixedGutter&&(fa.style.left=z.scrollLeft+"px");if(p.onScroll)p.onScroll(R)});x(window,"resize",
function(){Za(!0)});x(K,"keyup",y(function(a){p.onKeyEvent&&p.onKeyEvent(R,ba(a))||16==a.keyCode&&(ma=null)}));x(K,"input",Xa);x(K,"keydown",y(function(a){na||k();var b=a.keyCode;Da&&27==b&&(a.returnValue=!1);Ub(16==b||a.shiftKey);p.onKeyEvent&&p.onKeyEvent(R,ba(a))||(b=H(a),window.opera&&(Lb=b?a.keyCode:null,!b&&(La?a.metaKey:a.ctrlKey)&&88==a.keyCode&&Wa("")))}));x(K,"keypress",y(function(a){window.opera&&a.keyCode==Lb?(Lb=null,A(a)):p.onKeyEvent&&p.onKeyEvent(R,ba(a))||window.opera&&!a.which&&
H(a)||(p.electricChars&&U.electricChars&&(a=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),-1<U.electricChars.indexOf(a)&&setTimeout(y(function(){mb(l.to.line,"smart")}),75)),Xa())}));x(K,"focus",k);x(K,"blur",E);x(z,"dragenter",N);x(z,"dragover",N);x(z,"drop",y(function(a){a.preventDefault();var b=Pa(a,!0),c=a.dataTransfer.files;if(b&&!p.readOnly)if(c&&c.length&&window.FileReader&&window.File){a=function(a,c){var d=new FileReader;d.onload=function(){h[c]=d.result;++e==g&&(b=X(b),y(function(){var a=
sa(h.join(""),b,b);Ea(b,a)})())};d.readAsText(a)};for(var g=c.length,h=Array(g),e=0,d=0;d<g;++d)a(c[d],d)}else try{if(h=a.dataTransfer.getData("Text")){var d=sa(h,b,b),n=l.from,f=l.to;Ea(b,d);Kb&&sa("",n,f);Ia()}}catch(H){}}));x(z,"paste",function(){Ia();Xa()});x(K,"paste",Xa);x(K,"cut",y(function(){Wa("")}));var kc;try{kc=Ja.activeElement==K}catch(wc){}kc?setTimeout(k,20):E();var R=S.CodeMirror={getValue:function(a){var b=[];u.iter(0,u.size,function(a){b.push(a.text)});return b.join("\n")},setValue:y(n),
getSelection:gb,replaceSelection:y(Wa),focus:function(){Ia();k();Xa()},setOption:function(a,b){var c=p[a];p[a]=b;"mode"==a||"indentUnit"==a?Wb():"readOnly"==a&&b?(E(),K.blur()):"theme"==a?Yb():"lineWrapping"==a&&c!=b?y(sc)():"tabSize"==a&&y(tc)();"lineNumbers"!=a&&"gutter"!=a&&"firstLineNumber"!=a&&"theme"!=a||y(rc)()},getOption:function(a){return p[a]},undo:y(function(){W(oa.done,oa.undone)}),redo:y(function(){W(oa.undone,oa.done)}),indentLine:y(function(a,b){c(a)&&mb(a,null==b?"smart":b?"add":"subtract")}),
indentSelection:y(function(a){if(t(l.from,l.to))return mb(l.from.line,a);for(var b=l.to.line-(l.to.ch?0:1),c=l.from.line;c<=b;++c)mb(c,a)}),historySize:function(){return{undo:oa.done.length,redo:oa.undone.length}},clearHistory:function(){oa=new J},matchBrackets:y(function(){hc(!0)}),getTokenAt:y(function(a){a=X(a);return g(a.line).getTokenAt(U,nb(a.line),a.ch)}),getStateAfter:function(a){a=lb(null==a?u.size-1:a);return nb(a+1)},cursorCoords:function(a){null==a&&(a=l.inverted);return cc(a?l.from:l.to)},
charCoords:function(a){return cc(X(a))},coordsChar:function(a){var b=L(M);return Fb(a.x-b.left,a.y-b.top)},markText:y(Eb),setBookmark:function(a){a=X(a);var b=new Y(a.ch);g(a.line).addMark(b);return b},setMarker:y(function(a,b,c){"number"==typeof a&&(a=g(lb(a)));a.gutterMarker={text:b,style:c};qa=!0;return a}),clearMarker:y(function(a){"number"==typeof a&&(a=g(lb(a)));a.gutterMarker=null;qa=!0}),setLineClass:y(function(a,b){return Zb(a,function(a){if(a.className!=b)return a.className=b,!0})}),hideLine:y(function(a){return $b(a,
!0)}),showLine:y(function(a){return $b(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!c(a))return null;a=g(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!c(a))return null;var b=a;a=g(a);if(!a)return null}else if(b=T(a),null==b)return null;var h=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:h&&h.text,markerClass:h&&h.style,lineClass:a.className}},addWidget:function(a,b,c,g,h){a=Ya(X(a));var e=a.yBot,d=a.x;b.style.position=
"absolute";ha.appendChild(b);if("over"==g)e=a.y;else if("near"==g){g=Math.max(z.offsetHeight,u.height*xa());var n=Math.max(ha.clientWidth,M.clientWidth)-M.offsetLeft;a.yBot+b.offsetHeight>g&&a.y>b.offsetHeight&&(e=a.y-b.offsetHeight);d+b.offsetWidth>n&&(d=n-b.offsetWidth)}b.style.top=e+M.offsetTop+"px";b.style.left=b.style.right="";"right"==h?(d=ha.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==h?d=0:"middle"==h&&(d=(ha.clientWidth-b.offsetWidth)/2),b.style.left=d+M.offsetLeft+"px");c&&Pb(d,
e,d+b.offsetWidth,e+b.offsetHeight)},lineCount:function(){return u.size},clipPos:X,getCursor:function(a){null==a&&(a=l.inverted);a=a?l.from:l.to;return{line:a.line,ch:a.ch}},somethingSelected:function(){return!t(l.from,l.to)},setCursor:y(function(a,b,c){null==b&&"number"==typeof a.line?Ga(a.line,a.ch,c):Ga(a,b,c)}),setSelection:y(function(a,b,c){(c?Ea:Va)(X(a),X(b||a))}),getLine:function(a){if(c(a))return g(a).text},getLineHandle:function(a){if(c(a))return g(a)},setLine:y(function(a,b){c(a)&&sa(b,
{line:a,ch:0},{line:a,ch:g(a).text.length})}),removeLine:y(function(a){c(a)&&sa("",{line:a,ch:0},X({line:a+1,ch:0}))}),replaceRange:y(sa),getRange:function(a,b){return Nb(X(a),X(b))},execCommand:function(a){return Na[a](R)},moveH:y(function(a,b){var c=0>a?l.from:l.to;if(ma||t(l.from,l.to))c=Cb(a,b);Ga(c.line,c.ch,!0)}),deleteH:y(function(a,b){t(l.from,l.to)?0>a?sa("",Cb(a,b),l.to):sa("",l.from,Cb(a,b)):sa("",l.from,l.to);ib=!0}),moveV:y(function(a,b){var c=0,g=Ya(l.inverted?l.from:l.to,!0);null!=
jb&&(g.x=jb);"page"==b?c=z.clientHeight:"line"==b&&(c=xa());c=Fb(g.x,g.y+c*a+2);Ga(c.line,c.ch,!0);jb=g.x}),toggleOverwrite:function(){zb=!zb},posFromIndex:function(a){var b=0,c;u.iter(0,u.size,function(g){g=g.text.length+1;if(g>a)return c=a,!0;a-=g;++b});return X({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;u.iter(0,a.line,function(a){b+=a.text.length+1});return b},operation:function(a){return y(a)()},refresh:function(){Za(!0)},getInputField:function(){return K},
getWrapperElement:function(){return S},getScrollerElement:function(){return z},getGutterElement:function(){return fa}},Lb=null,vb=!1,Ca="",jb=null;Db.prototype.clear=y(function(){for(var a=Infinity,b=-Infinity,c=0,g=this.set.length;c<g;++c){var h=this.set[c],e=h.marked;if(e&&h.parent)for(h=T(h),a=Math.min(a,h),b=Math.max(b,h),h=0;h<e.length;++h)e[h].set==this.set&&e.splice(h--,1)}Infinity!=a&&Z.push({from:a,to:b+1})});Db.prototype.find=function(){for(var a,b,c=0,g=this.set.length;c<g;++c)for(var h=
this.set[c],e=h.marked,d=0;d<e.length;++d){var n=e[d];if(n.set==this.set&&(null!=n.from||null!=n.to)){var l=T(h);null!=l&&(null!=n.from&&(a={line:l,ch:n.from}),null!=n.to&&(b={line:l,ch:n.to}))}}return{from:a,to:b}};var bc=Math.floor(16777215*Math.random()).toString(16),Gb,dc,Ka,fc,ec=0,Hb={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},jc=0,eb;for(eb in Ra)Ra.propertyIsEnumerable(eb)&&!R.propertyIsEnumerable(eb)&&(R[eb]=Ra[eb]);return R}function Q(a,b,c){function g(a,b,c){var e=b[a];if(null!=
e)return e;null==c&&(c=b.fallthrough);if(null==c)return b.catchall;if("string"==typeof c)return g(a,ca[c]);b=0;for(var d=c.length;b<d;++b)if(e=g(a,ca[c[b]]),null!=e)return e;return null}return b?g(a,b,c):g(a,ca[c])}function F(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},g;for(g in b){var h=b[g];h instanceof Array&&(h=h.concat([]));c[g]=h}return c}function D(a,b,c){return a.startState?a.startState(b,c):!0}function W(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||
8}function da(a,b,c,g){this.from=a;this.to=b;this.style=c;this.set=g}function Y(a){this.to=this.from=a;this.line=null}function B(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.handlers=null}function k(a,b,c,g){for(var h=0,e=0,d=0;e<b;h+=2){var f=c[h],q=e+f.length;0==d?(q>a&&g.push(f.slice(a-e,Math.min(f.length,b-e)),c[h+1]),q>=a&&(d=1)):1==d&&(q>b?g.push(f.slice(0,b-e),c[h+1]):g.push(f,c[h+1]));e=q}}
function d(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,g=0;b<c;++b)a[b].parent=this,g+=a[b].height;this.height=g}function f(a){this.children=a;for(var b=0,c=0,g=0,h=a.length;g<h;++g){var e=a[g],b=b+e.chunkSize(),c=c+e.height;e.parent=this}this.size=b;this.height=c;this.parent=null}function T(a){if(null==a.parent)return null;var b=a.parent;a=ua(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var g=0;c.children[g]!=b;++g)a+=c.children[g].chunkSize();return a}function pa(a,b){var c=0;
a:do{for(var g=0,h=a.children.length;g<h;++g){var e=a.children[g],d=e.height;if(b<d){a=e;continue a}b-=d;c+=e.chunkSize()}return c}while(!a.lines);g=0;for(h=a.lines.length;g<h;++g){e=a.lines[g].height;if(b<e)break;b-=e}return c+g}function O(a,b){var c=0;a:do{for(var g=0,h=a.children.length;g<h;++g){var e=a.children[g],d=e.chunkSize();if(b<d){a=e;continue a}b-=d;c+=e.height}return c}while(!a.lines);for(g=0;g<b;++g)c+=a.lines[g].height;return c}function J(){this.time=0;this.done=[];this.undone=[]}function P(){N(this)}
function ba(a){a.stop||(a.stop=P);return a}function A(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function ga(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function N(a){A(a);ga(a)}function V(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function x(a,b,c,g){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),g)return function(){a.removeEventListener(b,c,!1)}}else{var h=function(a){c(a||window.event)};
a.attachEvent("on"+b,h);if(g)return function(){a.detachEvent("on"+b,h)}}}function q(){this.id=null}function E(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var g=0,h=0;g<b;++g)"\t"==a.charAt(g)?h+=c-h%c:++h;return h}function L(a,b){for(var c=a.ownerDocument.body,g=0,h=0,e=!1,d=a;d;d=d.offsetParent){var f=d.offsetLeft,q=d.offsetTop;d==c?(g+=Math.abs(f),h+=Math.abs(q)):(g+=f,h+=q);if(f=b)f=d.currentStyle?d.currentStyle:window.getComputedStyle(d,null),f="fixed"==f.position;f&&(e=
!0)}c=b&&!e?null:c;for(d=a.parentNode;d!=c;d=d.parentNode)null!=d.scrollLeft&&(g-=d.scrollLeft,h-=d.scrollTop);return{left:g,top:h}}function t(a,b){return a.line==b.line&&a.ch==b.ch}function ia(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function la(a){va.textContent=a;return va.innerHTML}function sb(a,b){if(!b)return a?a.length:0;if(!a)return b.length;for(var c=a.length,g=b.length;0<=c&&0<=g&&a.charAt(c)==b.charAt(g);--c,--g);return g+1}function ua(a,b){if(a.indexOf)return a.indexOf(b);
for(var c=0,g=a.length;c<g;++c)if(a[c]==b)return c;return-1}function Oa(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}r.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,
workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var La=/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var wa={},ea={};r.defineMode=function(a,b){r.defaults.mode||"null"==a||(r.defaults.mode=a);wa[a]=b};r.defineMIME=function(a,b){ea[a]=b};r.getMode=function(a,b){"string"==typeof b&&ea.hasOwnProperty(b)&&(b=ea[b]);if("string"==typeof b)var c=b,g={};else null!=b&&(c=b.name,g=b);var h=wa[c];return h?h(a,g||{}):(window.console&&console.warn("No mode "+
c+" found, falling back to plain text."),r.getMode(a,"text/plain"))};r.listModes=function(){var a=[],b;for(b in wa)wa.propertyIsEnumerable(b)&&a.push(b);return a};r.listMIMEs=function(){var a=[],b;for(b in ea)ea.propertyIsEnumerable(b)&&a.push({mime:b,mode:ea[b]});return a};var Ra=r.extensions={};r.defineExtension=function(a,b){Ra[a]=b};var Na=r.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),g=!t(b,
c);g||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,g?c:{line:b.line}):a.replaceRange("",b,{line:b.line+1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),
c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,
"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);
0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},ca=r.keyMap={};ca.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore",
"Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};ca.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev",
"Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};ca.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev",
"Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};ca["default"]=La?ca.macDefault:ca.pcDefault;ca.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};
r.fromTextArea=function(a,b){function c(){a.value=d.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);if(a.form){var g=x(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var h=function(){c();a.form.submit=e;a.form.submit();a.form.submit=h},e=a.form.submit;a.form.submit=h}}a.style.display="none";var d=r(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);d.save=c;d.getTextArea=function(){return a};d.toTextArea=function(){c();a.parentNode.removeChild(d.getWrapperElement());
a.style.display="";a.form&&(g(),"function"==typeof a.form.submit&&(a.form.submit=e))};return d};r.copyState=F;r.startState=D;W.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=
this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return E(this.string,this.start,this.tabSize)},indentation:function(){return E(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){var g=
function(a){return c?a.toLowerCase():a};if(g(this.string).indexOf(g(a),this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else return(a=this.string.slice(this.pos).match(a))&&!1!==b&&(this.pos+=a[0].length),a},current:function(){return this.string.slice(this.start,this.pos)}};r.StringStream=W;da.prototype={attach:function(a){this.set.push(a)},detach:function(a){a=ua(this.set,a);-1<a&&this.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new da(this.from<a||null==this.from?
null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.set)},dup:function(){return new da(null,null,this.style,this.set)},clipTo:function(a,b,c,g,h){null!=this.from&&this.from>=b&&(this.from=Math.max(g,this.from)+h);null!=this.to&&this.to>b&&(this.to=g<this.to?this.to+h:b);a&&g>this.from&&(g<this.to||null==this.to)&&(this.from=null);c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from)&&(this.to=null)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},
sameSet:function(a){return this.set==a.set}};Y.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=this.to=this.from-a+b,this},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,g,h){(a||b<this.from)&&(c||g>this.to)?(this.from=0,this.to=-1):this.from>b&&(this.from=this.to=Math.max(g,this.from)+h)},sameSet:function(a){return!1},find:function(){return this.line&&this.line.parent?{line:T(this.line),
ch:this.from}:null},clear:function(){if(this.line){var a=ua(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};B.inheritMarks=function(a,b){var c=new B(a),g=b&&b.marked;if(g)for(var h=0;h<g.length;++h)if(null==g[h].to&&g[h].style){var e=c.marked||(c.marked=[]),d=g[h].dup();e.push(d);d.attach(c)}return c};B.prototype={replace:function(a,b,c){var g=[],h=this.marked,e=null==b?this.text.length:b;k(0,a,this.styles,g);c&&g.push(c,null);k(e,this.text.length,this.styles,g);this.styles=
g;this.text=this.text.slice(0,a)+c+this.text.slice(e);this.stateAfter=null;if(h){c=c.length-(e-a);for(var g=0,d=h[g];g<h.length;++g)d.clipTo(null==a,a||0,null==b,e,c),d.isDead()&&(d.detach(this),h.splice(g--,1))}},split:function(a,b){var c=[b,null],g=this.marked;k(a,this.text.length,this.styles,c);c=new B(b+this.text.slice(a),c);if(g)for(var h=0;h<g.length;++h){var e=g[h].split(a,b.length);e&&(c.marked||(c.marked=[]),c.marked.push(e),e.attach(c))}return c},append:function(a){var b=this.text.length,
c=a.marked,g=this.marked;this.text+=a.text;k(0,a.text.length,a.styles,this.styles);if(g)for(a=0;a<g.length;++a)null==g[a].to&&(g[a].to=b);if(c&&c.length)a:for(g||(this.marked=g=[]),a=0;a<c.length;++a){var e=c[a];if(!e.from)for(var d=0;d<g.length;++d){var f=g[d];if(f.to==b&&f.sameSet(e)){f.to=null==e.to?null:e.to+b;f.isDead()&&(f.detach(this),c.splice(a--,1));continue a}}g.push(e);e.attach(this);e.from+=b;null!=e.to&&(e.to+=b)}},fixMarkEnds:function(a){var b=this.marked;a=a.marked;if(b)for(var c=0;c<
b.length;++c){var g=b[c],e=null==g.to;if(e&&a)for(var d=0;d<a.length;++d)if(a[d].sameSet(g)){e=!1;break}e&&(g.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=[]);this.marked.push(a);this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,b,c){c=new W(this.text,c);var g=this.styles,e=0,d=!1,f=g[0],q;for(""==this.text&&a.blankLine&&
a.blankLine(b);!c.eol();){var k=a.token(c,b),w=this.text.slice(c.start,c.pos);c.start=c.pos;e&&g[e-1]==k?g[e-2]+=w:w&&(!d&&(g[e+1]!=k||e&&g[e-2]!=q)&&(d=!0),g[e++]=w,g[e++]=k,q=f,f=g[e]);if(5E3<c.pos){g[e++]=this.text.slice(c.pos);g[e++]=null;break}}g.length!=e&&(g.length=e,d=!0);e&&g[e-2]!=q&&(d=!0);return d||(5>g.length&&10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var e=new W(this.text);e.pos<c&&!e.eol();){e.start=e.pos;var d=a.token(e,b)}return{start:e.start,end:e.pos,string:e.current(),
className:d||null,state:b}},indentation:function(a){return E(this.text,null,a)},getHTML:function(a,b,c,e,d){function f(a,b){a&&(k&&Da&&" "==a.charAt(0)&&(a="\u00a0"+a.slice(1)),k=!1,b?q.push('<span class="',b,'">',la(a).replace(/\t/g,e),"</span>"):q.push(la(a).replace(/\t/g,e)))}var q=[],k=!0;c&&q.push(this.className?'<pre class="'+this.className+'">':"<pre>");var w=this.styles,I=this.text,E=this.marked;a==b&&(a=null);var t=I.length;null!=d&&(t=Math.min(d,t));if(I||null!=d)if(E||null!=a){var I=function(){E&&
(A+=1,T=A<E.length?E[A]:null)},L=0;d=0;var r="",A=-1,T=null;for(I();L<t;){var x=t,B="";if(null!=a)if(a>L)x=a;else if(null==b||b>L)B=" CodeMirror-selected",null!=b&&(x=Math.min(x,b));for(;T&&null!=T.to&&T.to<=L;)I();T&&(T.from>L?x=Math.min(x,T.from):(B+=" "+T.style,null!=T.to&&(x=Math.min(x,T.to))));for(;;){var F=L+r.length,G=D;B&&(G=D?D+B:B);f(F>x?r.slice(0,x-L):r,G);if(F>=x){r=r.slice(x-L);L=x;break}L=F;r=w[d++];D="cm-"+w[d++]}}null!=a&&null==b&&f(" ","CodeMirror-selected")}else for(a=d=0;a<t;d+=
2){b=w[d];var D=w[d+1],I=b.length;a+I>t&&(b=b.slice(0,t-a));a+=I;f(b,D&&"cm-"+D)}else f(" ",null!=a&&null==b?"CodeMirror-selected":null);c&&q.push("</pre>");return q.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};d.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var e=a,d=a+b;e<d;++e){var f=this.lines[e];this.height-=f.height;f.cleanUp();if(f.handlers)for(var q=0;q<f.handlers.length;++q)c.push(f.handlers[q])}this.lines.splice(a,
b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines.splice.apply(this.lines,[a,0].concat(b));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};f.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var e=0;e<this.children.length;++e){var h=this.children[e],f=h.chunkSize();if(a<f){var q=Math.min(b,f-a),w=h.height;h.remove(a,
q,c);this.height-=w-h.height;f==q&&(this.children.splice(e--,1),h.parent=null);if(0==(b-=q))break;a=0}else a-=f}25>this.size-b&&(a=[],this.collapse(a),this.children=[new d(a)])},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,e=0,d=b.length;e<d;++e)c+=b[e].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var e=0,h=this.children.length;e<h;++e){var f=this.children[e],q=
f.chunkSize();if(a<=q){f.insertHeight(a,b,c);if(f.lines&&50<f.lines.length){for(;50<f.lines.length;)a=f.lines.splice(f.lines.length-25,25),a=new d(a),f.height-=a.height,this.children.splice(e+1,0,a),a.parent=this;this.maybeSpill()}break}a-=q}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new f(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=ua(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new f(a.children),
c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var e=0,d=this.children.length;e<d;++e){var f=this.children[e],q=f.chunkSize();if(a<q){q=Math.min(b,q-a);if(f.iterN(a,q,c))return!0;if(0==(b-=q))break;a=0}else a-=q}}};J.prototype={addChange:function(a,b,c){this.undone.length=0;var e=+new Date,d=this.done[this.done.length-1];if(400<e-this.time||!d||d.start>a+b||d.start+d.added<a-
d.added+d.old.length)this.done.push({start:a,added:b,old:c});else{var f=0;if(a<d.start){for(var q=d.start-a-1;0<=q;--q)d.old.unshift(c[q]);d.added+=d.start-a;d.start=a}else d.start<a&&(f=a-d.start,b+=f);q=d.added-f;for(a=c.length;q<a;++q)d.old.push(c[q]);d.added<b&&(d.added=b)}this.time=e}};r.e_stop=N;r.e_preventDefault=A;r.e_stopPropagation=ga;r.connect=x;q.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var ya=/MSIE [1-8]\b/.test(navigator.userAgent)?!1:"draggable"in
document.createElement("div"),Qa=/gecko\/\d{7}/i.test(navigator.userAgent),Da=/MSIE \d/.test(navigator.userAgent),G=/WebKit\//.test(navigator.userAgent);(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")})();null!=document.documentElement.getBoundingClientRect&&(L=function(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(e){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var d=document.documentElement||document.body.parentNode;
null==d.scrollTop&&(d=document.body);c.top+=d.scrollTop;c.left+=d.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var va=document.createElement("pre");"\na"==la("a")?la=function(a){va.textContent=a;return va.innerHTML.slice(1)}:"\t"!=la("\t")&&(la=function(a){va.innerHTML="";va.appendChild(document.createTextNode(a));return va.innerHTML});r.htmlEscape=la;var e=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c,e=[];-1<(c=a.indexOf("\n",b));)e.push(a.slice(b,"\r"==
a.charAt(c-1)?c-1:c)),b=c+1;e.push(a.slice(b));return e}:function(a){return a.split(/\r?\n/)};r.splitLines=e;var I=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};r.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});r.defineMIME("text/plain","null");var w={3:"Enter",8:"Backspace",9:"Tab",
13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};r.keyNames=w;(function(){for(var a=
0;10>a;a++)w[a+48]=String(a);for(a=65;90>=a;a++)w[a]=String.fromCharCode(a);for(a=1;12>=a;a++)w[a+111]=w[a+63235]="F"+a})();return r}();
CodeMirror.defineMode("xml",function(r,Q){function F(d,f){function k(t){f.tokenize=t;return t(d,f)}var t=d.next();if("<"==t){if(d.eat("!"))return d.eat("[")?d.match("CDATA[")?k(da("atom","]]\x3e")):null:d.match("--")?k(da("comment","--\x3e")):d.match("DOCTYPE",!0,!0)?(d.eatWhile(/[\w\._\-]/),k(Y(1))):null;if(d.eat("?"))return d.eatWhile(/[\w\._\-]/),f.tokenize=da("meta","?>"),"meta";N=d.eat("/")?"closeTag":"openTag";d.eatSpace();for(ga="";t=d.eat(/[^\s\u00a0=<>\"\'\/?]/);)ga+=t;f.tokenize=D;return"tag"}if("&"==
t)return d.eatWhile(/[^;]/),d.eat(";"),"atom";d.eatWhile(/[^&<]/);return null}function D(d,f){var k=d.next();if(">"==k||"/"==k&&d.eat(">"))return f.tokenize=F,N=">"==k?"endTag":"selfcloseTag","tag";if("="==k)return N="equals",null;if(/[\'\"]/.test(k))return f.tokenize=W(k),f.tokenize(d,f);d.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}function W(d){return function(f,k){for(;!f.eol();)if(f.next()==d){k.tokenize=D;break}return"string"}}function da(d,f){return function(k,t){for(;!k.eol();){if(k.match(f)){t.tokenize=
F;break}k.next()}return d}}function Y(d){return function(f,k){for(var t;null!=(t=f.next());){if("<"==t)return k.tokenize=Y(d+1),k.tokenize(f,k);if(">"==t)if(1==d){k.tokenize=F;break}else return k.tokenize=Y(d-1),k.tokenize(f,k)}return"meta"}}function B(){for(var d=arguments.length-1;0<=d;d--)V.cc.push(arguments[d])}function k(){B.apply(null,arguments);return!0}function d(d){return"openTag"==d?(V.tagName=ga,k(pa,f(V.startOfLine))):"closeTag"==d?(d=!1,(d=V.context?V.context.tagName!=ga:!0)&&(x="error"),
k(T(d))):k()}function f(d){return function(f){if("selfcloseTag"==f||"endTag"==f&&ba.autoSelfClosers.hasOwnProperty(V.tagName.toLowerCase()))return k();if("endTag"==f){f=V.tagName;var x=ba.doNotIndent.hasOwnProperty(f)||V.context&&V.context.noIndent;V.context={prev:V.context,tagName:f,indent:V.indented,startOfLine:d,noIndent:x}}return k()}}function T(d){return function(f){d&&(x="error");if("endTag"==f)return V.context&&(V.context=V.context.prev),k();x="error";return k(arguments.callee)}}function pa(d){return"word"==
d?(x="attribute",k(pa)):"equals"==d?k(O,pa):"string"==d?(x="error",k(pa)):B()}function O(d){return"word"==d&&ba.allowUnquoted?(x="string",k()):"string"==d?k(J):B()}function J(d){return"string"==d?k(J):B()}var P=r.indentUnit,ba=Q.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},A=Q.alignCDATA,ga,N,V,x;return{startState:function(){return{tokenize:F,cc:[],
indented:0,startOfLine:!0,tagName:null,context:null}},token:function(f,k){f.sol()&&(k.startOfLine=!0,k.indented=f.indentation());if(f.eatSpace())return null;x=N=ga=null;var r=k.tokenize(f,k);k.type=N;if((r||N)&&"comment"!=r)for(V=k;!(k.cc.pop()||d)(N||r););k.startOfLine=!1;return x||r},indent:function(d,f,k){var t=d.context;if(d.tokenize!=D&&d.tokenize!=F||t&&t.noIndent)return k?k.match(/^(\s*)/)[0].length:0;if(A&&/<!\[CDATA\[/.test(f))return 0;t&&/^<\//.test(f)&&(t=t.prev);for(;t&&!t.startOfLine;)t=
t.prev;return t?t.indent+P:0},compareStates:function(d,f){if(d.indented!=f.indented||d.tokenize!=f.tokenize)return!1;for(var k=d.context,t=f.context;;k=k.prev,t=t.prev){if(!k||!t)return k==t;if(k.tagName!=t.tagName)return!1}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});
CodeMirror.defineMode("javascript",function(r,Q){function F(d,f){for(var k=!1,a;null!=(a=d.next());){if(a==f&&!k)return!1;k=!k&&"\\"==a}return k}function D(d,f,k){ya=d;Qa=k;return f}function W(d,f){var k=d.next();if('"'==k||"'"==k)return k=da(k),f.tokenize=k,k(d,f);if(/[\[\]{}\(\),;\:\.]/.test(k))return D(k);if("0"==k&&d.eat(/x/i))return d.eatWhile(/[\da-f]/i),D("number","number");if(/\d/.test(k))return d.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),D("number","number");if("/"==k){if(d.eat("*"))return k=
Y,f.tokenize=k,k(d,f);if(d.eat("/"))return d.skipToEnd(),D("comment","comment");if(f.reAllowed)return F(d,"/"),d.eatWhile(/[gimy]/),D("regexp","string");d.eatWhile(ca);return D("operator",null,d.current())}if("#"==k)return d.skipToEnd(),D("error","error");if(ca.test(k))return d.eatWhile(ca),D("operator",null,d.current());d.eatWhile(/[\w\$_]/);var k=d.current(),a=Na.propertyIsEnumerable(k)&&Na[k];return a&&f.kwAllowed?D(a.type,a.style,k):D("variable","variable",k)}function da(d){return function(f,
k){F(f,d)||(k.tokenize=W);return D("string","string")}}function Y(d,f){for(var k=!1,a;a=d.next();){if("/"==a&&k){f.tokenize=W;break}k="*"==a}return D("comment","comment")}function B(d,f,k,a,b,c){this.indented=d;this.column=f;this.type=k;this.prev=b;this.info=c;null!=a&&(this.align=a)}function k(){for(var d=arguments.length-1;0<=d;d--)G.cc.push(arguments[d])}function d(){k.apply(null,arguments);return!0}function f(d){var f=G.state;if(f.context){G.marked="def";for(var k=f.localVars;k;k=k.next)if(k.name==
d)return;f.localVars={name:d,next:f.localVars}}}function T(){G.state.context||(G.state.localVars=va);G.state.context={prev:G.state.context,vars:G.state.localVars}}function pa(){G.state.localVars=G.state.context.vars;G.state.context=G.state.context.prev}function O(d,f){var k=function(){var a=G.state;a.lexical=new B(a.indented,G.stream.column(),d,null,a.lexical,f)};k.lex=!0;return k}function J(){var d=G.state;d.lexical.prev&&(")"==d.lexical.type&&(d.indented=d.lexical.indented),d.lexical=d.lexical.prev)}
function P(e){return function(f){return f==e?d():";"==e?k():d(arguments.callee)}}function ba(e){return"var"==e?d(O("vardef"),t,P(";"),J):"keyword a"==e?d(O("form"),A,ba,J):"keyword b"==e?d(O("form"),ba,J):"{"==e?d(O("}"),L,J):";"==e?d():"function"==e?d(La):"for"==e?d(O("form"),P("("),O(")"),la,P(")"),J,ba,J):"variable"==e?d(O("stat"),V):"switch"==e?d(O("form"),A,O("}","switch"),P("{"),L,J,J):"case"==e?d(A,P(":")):"default"==e?d(P(":")):"catch"==e?d(O("form"),T,P("("),wa,P(")"),ba,J,pa):k(O("stat"),
A,P(";"),J)}function A(e){return Da.hasOwnProperty(e)?d(N):"function"==e?d(La):"keyword c"==e?d(ga):"("==e?d(O(")"),A,P(")"),J,N):"operator"==e?d(A):"["==e?d(O("]"),E(A,"]"),J,N):"{"==e?d(O("}"),E(q,"}"),J,N):d()}function ga(d){return d.match(/[;\}\)\],]/)?k():k(A)}function N(e,f){if("operator"==e&&/\+\+|--/.test(f))return d(N);if("operator"==e)return d(A);if(";"!=e){if("("==e)return d(O(")"),E(A,")"),J,N);if("."==e)return d(x,N);if("["==e)return d(O("]"),A,P("]"),J,N)}}function V(e){return":"==e?
d(J,ba):k(N,P(";"),J)}function x(e){if("variable"==e)return G.marked="property",d()}function q(e){"variable"==e&&(G.marked="property");if(Da.hasOwnProperty(e))return d(P(":"),A)}function E(e,f){function q(a){return","==a?d(e,q):a==f?d():d(P(f))}return function(a){return a==f?d():k(e,q)}}function L(e){return"}"==e?d():k(ba,L)}function t(e,k){return"variable"==e?(f(k),d(ia)):d()}function ia(e,f){if("="==f)return d(A,ia);if(","==e)return d(t)}function la(e){return"var"==e?d(t,ua):";"==e?k(ua):"variable"==
e?d(sb):k(ua)}function sb(e,f){return"in"==f?d(A):d(N,ua)}function ua(e,f){return";"==e?d(Oa):"in"==f?d(A):d(A,P(";"),Oa)}function Oa(e){")"!=e&&d(A)}function La(e,k){if("variable"==e)return f(k),d(La);if("("==e)return d(O(")"),T,E(wa,")"),J,ba,pa)}function wa(e,k){if("variable"==e)return f(k),d()}var ea=r.indentUnit,Ra=Q.json,Na=function(){function d(a){return{type:a,style:"keyword"}}var f=d("keyword a"),k=d("keyword b"),a=d("keyword c"),b=d("operator"),c={type:"atom",style:"atom"};return{"if":f,
"while":f,"with":f,"else":k,"do":k,"try":k,"finally":k,"return":a,"break":a,"continue":a,"new":a,"delete":a,"throw":a,"var":d("var"),"const":d("var"),let:d("var"),"function":d("function"),"catch":d("catch"),"for":d("for"),"switch":d("switch"),"case":d("case"),"default":d("default"),"in":b,"typeof":b,"instanceof":b,"true":c,"false":c,"null":c,undefined:c,NaN:c,Infinity:c}}(),ca=/[+\-*&%=<>!?|]/,ya,Qa,Da={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},G={state:null,column:null,marked:null,cc:null},
va={name:"this",next:{name:"arguments"}};J.lex=!0;return{startState:function(d){return{tokenize:W,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new B((d||0)-ea,0,"block",!1),localVars:null,context:null,indented:0}},token:function(d,f){d.sol()&&(f.lexical.hasOwnProperty("align")||(f.lexical.align=!1),f.indented=d.indentation());if(d.eatSpace())return null;var k=f.tokenize(d,f);if("comment"==ya)return k;f.reAllowed="operator"==ya||"keyword c"==ya||ya.match(/^[\[{}\(,;:]$/);f.kwAllowed="."!=ya;a:{var a=ya,
b=Qa,c=f.cc;G.state=f;G.stream=d;G.marked=null;G.cc=c;f.lexical.hasOwnProperty("align")||(f.lexical.align=!0);for(;;)if((c.length?c.pop():Ra?A:ba)(a,b)){for(;c.length&&c[c.length-1].lex;)c.pop()();if(G.marked){k=G.marked;break a}if(a="variable"==a)b:{for(a=f.localVars;a;a=a.next)if(a.name==b){a=!0;break b}a=void 0}if(a){k="variable-2";break a}break a}}return k},indent:function(d,f){if(d.tokenize!=W)return 0;var k=f&&f.charAt(0),a=d.lexical,b=a.type,c=k==b;return"vardef"==b?a.indented+4:"form"==b&&
"{"==k?a.indented:"stat"==b||"form"==b?a.indented+ea:"switch"!=a.info||c?a.align?a.column+(c?0:1):a.indented+(c?0:ea):a.indented+(/^(?:case|default)\b/.test(f)?ea:2*ea)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});
CodeMirror.defineMode("css",function(r){function Q(k,d){B=d;return k}function F(k,d){var f=k.next();if("@"==f)return k.eatWhile(/[\w\\\-]/),Q("meta",k.current());if("/"==f&&k.eat("*"))return d.tokenize=D,D(k,d);if("<"==f&&k.eat("!"))return d.tokenize=W,W(k,d);if("="==f)Q(null,"compare");else{if("~"!=f&&"|"!=f||!k.eat("=")){if('"'==f||"'"==f)return d.tokenize=da(f),d.tokenize(k,d);if("#"==f)return k.eatWhile(/[\w\\\-]/),Q("atom","hash");if("!"==f)return k.match(/^\s*\w*/),Q("keyword","important");
if(/\d/.test(f))return k.eatWhile(/[\w.%]/),Q("number","unit");if(/[,.+>*\/]/.test(f))return Q(null,"select-op");if(/[;{}:\[\]]/.test(f))return Q(null,f);k.eatWhile(/[\w\\\-]/);return Q("variable","variable")}return Q(null,"compare")}}function D(k,d){for(var f=!1,r;null!=(r=k.next());){if(f&&"/"==r){d.tokenize=F;break}f="*"==r}return Q("comment","comment")}function W(k,d){for(var f=0,r;null!=(r=k.next());){if(2<=f&&">"==r){d.tokenize=F;break}f="-"==r?f+1:0}return Q("comment","comment")}function da(k){return function(d,
f){for(var r=!1,B;null!=(B=d.next())&&(B!=k||r);)r=!r&&"\\"==B;r||(f.tokenize=F);return Q("string","string")}}var Y=r.indentUnit,B;return{startState:function(k){return{tokenize:F,baseIndent:k||0,stack:[]}},token:function(k,d){if(k.eatSpace())return null;var f=d.tokenize(k,d),r=d.stack[d.stack.length-1];"hash"==B&&"rule"==r?f="atom":"variable"==f&&("rule"==r?f="number":r&&"@media{"!=r||(f="tag"));"rule"==r&&/^[\{\};]$/.test(B)&&d.stack.pop();"{"==B?"@media"==r?d.stack[d.stack.length-1]="@media{":d.stack.push("{"):
"}"==B?d.stack.pop():"@media"==B?d.stack.push("@media"):"{"==r&&"comment"!=B&&d.stack.push("rule");return f},indent:function(k,d){var f=k.stack.length;/^\}/.test(d)&&(f-="rule"==k.stack[k.stack.length-1]?2:1);return k.baseIndent+f*Y},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");
CodeMirror.defineMode("htmlmixed",function(r,Q){function F(d,f){var r=Y.token(d,f.htmlState);"tag"==r&&">"==d.current()&&f.htmlState.context&&(/^script$/i.test(f.htmlState.context.tagName)?(f.token=W,f.localState=B.startState(Y.indent(f.htmlState,"")),f.mode="javascript"):/^style$/i.test(f.htmlState.context.tagName)&&(f.token=da,f.localState=k.startState(Y.indent(f.htmlState,"")),f.mode="css"));return r}function D(d,f,k){var r=d.current();f=r.search(f);-1<f&&d.backUp(r.length-f);return k}function W(d,
f){return d.match(/^<\/\s*script\s*>/i,!1)?(f.token=F,f.curState=null,f.mode="html",F(d,f)):D(d,/<\/\s*script\s*>/,B.token(d,f.localState))}function da(d,f){return d.match(/^<\/\s*style\s*>/i,!1)?(f.token=F,f.localState=null,f.mode="html",F(d,f)):D(d,/<\/\s*style\s*>/,k.token(d,f.localState))}var Y=CodeMirror.getMode(r,{name:"xml",htmlMode:!0}),B=CodeMirror.getMode(r,"javascript"),k=CodeMirror.getMode(r,"css");return{startState:function(){var d=Y.startState();return{token:F,localState:null,mode:"html",
htmlState:d}},copyState:function(d){if(d.localState)var f=CodeMirror.copyState(d.token==da?k:B,d.localState);return{token:d.token,localState:f,mode:d.mode,htmlState:CodeMirror.copyState(Y,d.htmlState)}},token:function(d,f){return f.token(d,f)},indent:function(d,f){return d.token==F||/^\s*<\//.test(f)?Y.indent(d.htmlState,f):d.token==W?B.indent(d.localState,f):k.indent(d.localState,f)},compareStates:function(d,f){return Y.compareStates(d.htmlState,f.htmlState)},electricChars:"/{}:"}});
CodeMirror.defineMIME("text/html","htmlmixed");