window.onload=function(){editor.setOpt({emotionLocalization:!1});emotion.SmileyPath=!0===editor.options.emotionLocalization?"images/":"http://img.baidu.com/hi/";emotion.SmileyBox=createTabList(emotion.tabNum);emotion.tabExist=createArr(emotion.tabNum);initImgName();initEvtHandler("tabHeads")};function initImgName(){for(var a in emotion.SmilmgName){var c=emotion.SmilmgName[a],b=emotion.SmileyBox[a],d="";if(b.length)break;for(var f=1;f<=c[1];f++)d=c[0],10>f&&(d+="0"),d=d+f+".gif",b.push(d)}}
function initEvtHandler(a){a=$G(a);for(var c=0,b=0;c<a.childNodes.length;c++){var d=a.childNodes[c];1==d.nodeType&&(domUtils.on(d,"click",function(a){return function(){switchTab(a)}}(b)),b++)}switchTab(0);$G("tabIconReview").style.display="none"}function InsertSmiley(a,c){var b={src:editor.options.emotionLocalization?editor.options.UEDITOR_HOME_URL+"dialogs/emotion/"+a:a};b._src=b.src;editor.execCommand("insertimage",b);c.ctrlKey||dialog.popup.hide()}
function switchTab(a){autoHeight(a);0==emotion.tabExist[a]&&(emotion.tabExist[a]=1,createTab("tab"+a));for(var c=$G("tabHeads").getElementsByTagName("span"),b=$G("tabBodys").getElementsByTagName("div"),d=0,f=c.length;d<f;d++)c[d].className="",b[d].style.display="none";c[a].className="focus";b[a].style.display="block"}
function autoHeight(a){var c=dialog.getDom("iframe"),b=c.parentNode.parentNode;switch(a){case 0:c.style.height="380px";b.style.height="392px";break;case 1:c.style.height="220px";b.style.height="232px";break;case 2:c.style.height="260px";b.style.height="272px";break;case 3:c.style.height="300px";b.style.height="312px";break;case 4:c.style.height="140px";b.style.height="152px";break;case 5:c.style.height="260px";b.style.height="272px";break;case 6:c.style.height="230px",b.style.height="242px"}}
function createTab(a){for(var c=$G(a),b=emotion.SmileyPath+emotion.imageFolders[a],d=iHeight=35,f=emotion.imageCss[a],q=emotion.imageCssOffset[a],e=['<table class="smileytable">'],g=0,r=emotion.SmileyBox[a].length,h,l,m,n,p;g<r;){e.push("<tr>");for(var k=0;11>k;k++,g++)(h=emotion.SmileyBox[a][g])?(l=b+h+"?v=1.1",h=b+h,m=5.5>k?0:1,n=q*g*-1-1,p=emotion.SmileyInfor[a][g],e.push('<td  class="'+f+'"   border="1" width="3%" style="border-collapse:collapse;" align="center"  bgcolor="transparent" onclick="InsertSmiley(\''+
h.replace(/'/g,"\\'")+"',event)\" onmouseover=\"over(this,'"+l+"','"+m+'\')" onmouseout="out(this)">'),e.push("<span>"),e.push('<img  style="background-position:left '+n+'px;" title="'+p+'" src="'+emotion.SmileyPath+(editor.options.emotionLocalization?'0.gif" width="':'default/0.gif" width="')+d+'" height="'+iHeight+'"></img>'),e.push("</span>")):e.push('<td width="3%"   bgcolor="#FFFFFF">'),e.push("</td>");e.push("</tr>")}e.push("</table>");e=e.join("");c.innerHTML=e}
function over(a,c,b){a.style.backgroundColor="#ACCD3C";$G("faceReview").style.backgroundImage="url("+c+")";1==b&&($G("tabIconReview").className="show");$G("tabIconReview").style.display="block"}function out(a){a.style.backgroundColor="transparent";a=$G("tabIconReview");a.className="";a.style.display="none"}function createTabList(a){for(var c={},b=0;b<a;b++)c["tab"+b]=[];return c}function createArr(a){for(var c=[],b=0;b<a;b++)c[b]=0;return c};